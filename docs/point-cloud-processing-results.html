<!DOCTYPE html>
<html lang="en-US" xml:lang="en-US">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Section 7 Point Cloud Processing Results | DoD cloud2trees Demonstration: Forest Fuel Quantification for Wildfire Modeling using QUIC-Fire</title>
  <meta name="description" content="Using the bookdown package to write a book of data exploration. The output format for this example is bookdown::gitbook." />
  <meta name="generator" content="bookdown 0.34 and GitBook 2.6.7" />

  <meta property="og:title" content="Section 7 Point Cloud Processing Results | DoD cloud2trees Demonstration: Forest Fuel Quantification for Wildfire Modeling using QUIC-Fire" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Using the bookdown package to write a book of data exploration. The output format for this example is bookdown::gitbook." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Section 7 Point Cloud Processing Results | DoD cloud2trees Demonstration: Forest Fuel Quantification for Wildfire Modeling using QUIC-Fire" />
  
  <meta name="twitter:description" content="Using the bookdown package to write a book of data exploration. The output format for this example is bookdown::gitbook." />
  

<meta name="author" content="George Woolsey, Wade Tinkham, Chad Hoffman, and Sophie Bonner" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="cedar-bridge-nj.html"/>
<link rel="next" href="lanl_trees.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<link href="libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet" />
<script src="libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/proj4-2.6.2/proj4.min.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.2.2/leaflet.js"></script>
<script src="libs/leaflet-providers-2.0.0/leaflet-providers_2.0.0.js"></script>
<script src="libs/leaflet-providers-plugin-2.2.2/leaflet-providers-plugin.js"></script>
<script src="libs/clipboard-0.0.1/setClipboardText.js"></script>
<link href="libs/mapviewCSS-0.0.1/mapview-popup.css" rel="stylesheet" />
<link href="libs/mapviewCSS-0.0.1/mapview.css" rel="stylesheet" />
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<link href="libs/bsTable-3.3.7/bootstrapTable.min.css" rel="stylesheet" />
<script src="libs/bsTable-3.3.7/bootstrapTable.js"></script>
<script type="text/javascript">

// toggle visibility of R source blocks in R Markdown output
function toggle_R() {
  var x = document.getElementsByClassName('r');
  if (x.length == 0) return;
  function toggle_vis(o) {
    var d = o.style.display;
    o.style.display = (d == 'block' || d == '') ? 'none':'block';
  }

  for (i = 0; i < x.length; i++) {
    var y = x[i];
    if (y.tagName.toLowerCase() === 'pre') toggle_vis(y);
  }

    var elem = document.getElementById("myButton1");
    if (elem.value === "Hide Code") elem.value = "Show Code";
    else elem.value = "Hide Code";
}

document.write('<input onclick="toggle_R();" type="button" value="Hide Code" id="myButton1" style="position: absolute; top: 10%; right: 2%; z-index: 200"></input>')

</script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#objective"><i class="fa fa-check"></i><b>1.1</b> Objective</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#data_desc"><i class="fa fa-check"></i><b>1.2</b> Data</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#processing-workflow"><i class="fa fa-check"></i><b>1.3</b> Processing Workflow</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="data-preparation.html"><a href="data-preparation.html"><i class="fa fa-check"></i><b>2</b> Data Preparation</a>
<ul>
<li class="chapter" data-level="2.1" data-path="data-preparation.html"><a href="data-preparation.html#study-sites"><i class="fa fa-check"></i><b>2.1</b> Study Sites</a></li>
<li class="chapter" data-level="2.2" data-path="data-preparation.html"><a href="data-preparation.html#point-cloud-data"><i class="fa fa-check"></i><b>2.2</b> Point Cloud Data</a></li>
<li class="chapter" data-level="2.3" data-path="data-preparation.html"><a href="data-preparation.html#itd-window-functions"><i class="fa fa-check"></i><b>2.3</b> ITD window functions</a></li>
<li class="chapter" data-level="2.4" data-path="data-preparation.html"><a href="data-preparation.html#other-plotting-functions"><i class="fa fa-check"></i><b>2.4</b> Other plotting functions</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="sycmarsh.html"><a href="sycmarsh.html"><i class="fa fa-check"></i><b>3</b> Sycan Marsh (OR)</a>
<ul>
<li class="chapter" data-level="3.1" data-path="sycmarsh.html"><a href="sycmarsh.html#sy_als"><i class="fa fa-check"></i><b>3.1</b> ALS Processing</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="sycmarsh.html"><a href="sycmarsh.html#itd-tuning"><i class="fa fa-check"></i><b>3.1.1</b> ITD tuning</a></li>
<li class="chapter" data-level="3.1.2" data-path="sycmarsh.html"><a href="sycmarsh.html#cloud2trees-point-cloud-processing"><i class="fa fa-check"></i><b>3.1.2</b> <code>cloud2trees</code> point cloud processing</a></li>
<li class="chapter" data-level="3.1.3" data-path="sycmarsh.html"><a href="sycmarsh.html#cloud2trees-results"><i class="fa fa-check"></i><b>3.1.3</b> <code>cloud2trees</code> Results</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="sycmarsh.html"><a href="sycmarsh.html#sy_uas"><i class="fa fa-check"></i><b>3.2</b> UAS lidar Processing</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="sycmarsh.html"><a href="sycmarsh.html#itd-tuning-1"><i class="fa fa-check"></i><b>3.2.1</b> ITD tuning</a></li>
<li class="chapter" data-level="3.2.2" data-path="sycmarsh.html"><a href="sycmarsh.html#cloud2trees-point-cloud-processing-1"><i class="fa fa-check"></i><b>3.2.2</b> <code>cloud2trees</code> point cloud processing</a></li>
<li class="chapter" data-level="3.2.3" data-path="sycmarsh.html"><a href="sycmarsh.html#cloud2trees-results-1"><i class="fa fa-check"></i><b>3.2.3</b> <code>cloud2trees</code> Results</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="fort-stewart-ga.html"><a href="fort-stewart-ga.html"><i class="fa fa-check"></i><b>4</b> Fort Stewart (GA)</a>
<ul>
<li class="chapter" data-level="4.1" data-path="fort-stewart-ga.html"><a href="fort-stewart-ga.html#als-2018-processing"><i class="fa fa-check"></i><b>4.1</b> ALS (2018) Processing</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="fort-stewart-ga.html"><a href="fort-stewart-ga.html#itd-tuning-2"><i class="fa fa-check"></i><b>4.1.1</b> ITD tuning</a></li>
<li class="chapter" data-level="4.1.2" data-path="fort-stewart-ga.html"><a href="fort-stewart-ga.html#cloud2trees-point-cloud-processing-2"><i class="fa fa-check"></i><b>4.1.2</b> <code>cloud2trees</code> point cloud processing</a></li>
<li class="chapter" data-level="4.1.3" data-path="fort-stewart-ga.html"><a href="fort-stewart-ga.html#cloud2trees-results-2"><i class="fa fa-check"></i><b>4.1.3</b> <code>cloud2trees</code> Results</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="fort-stewart-ga.html"><a href="fort-stewart-ga.html#als-2025-processing"><i class="fa fa-check"></i><b>4.2</b> ALS (2025) Processing</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="fort-stewart-ga.html"><a href="fort-stewart-ga.html#itd-tuning-3"><i class="fa fa-check"></i><b>4.2.1</b> ITD tuning</a></li>
<li class="chapter" data-level="4.2.2" data-path="fort-stewart-ga.html"><a href="fort-stewart-ga.html#cloud2trees-point-cloud-processing-3"><i class="fa fa-check"></i><b>4.2.2</b> <code>cloud2trees</code> point cloud processing</a></li>
<li class="chapter" data-level="4.2.3" data-path="fort-stewart-ga.html"><a href="fort-stewart-ga.html#cloud2trees-results-3"><i class="fa fa-check"></i><b>4.2.3</b> <code>cloud2trees</code> Results</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="salt-cabin-co.html"><a href="salt-cabin-co.html"><i class="fa fa-check"></i><b>5</b> Salt Cabin (CO)</a>
<ul>
<li class="chapter" data-level="5.1" data-path="salt-cabin-co.html"><a href="salt-cabin-co.html#sc_als"><i class="fa fa-check"></i><b>5.1</b> ALS Processing</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="salt-cabin-co.html"><a href="salt-cabin-co.html#itd-tuning-4"><i class="fa fa-check"></i><b>5.1.1</b> ITD tuning</a></li>
<li class="chapter" data-level="5.1.2" data-path="salt-cabin-co.html"><a href="salt-cabin-co.html#cloud2trees-point-cloud-processing-4"><i class="fa fa-check"></i><b>5.1.2</b> <code>cloud2trees</code> point cloud processing</a></li>
<li class="chapter" data-level="5.1.3" data-path="salt-cabin-co.html"><a href="salt-cabin-co.html#cloud2trees-results-4"><i class="fa fa-check"></i><b>5.1.3</b> <code>cloud2trees</code> Results</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="salt-cabin-co.html"><a href="salt-cabin-co.html#sc_uas"><i class="fa fa-check"></i><b>5.2</b> UAS sfm Processing</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="salt-cabin-co.html"><a href="salt-cabin-co.html#itd-tuning-5"><i class="fa fa-check"></i><b>5.2.1</b> ITD tuning</a></li>
<li class="chapter" data-level="5.2.2" data-path="salt-cabin-co.html"><a href="salt-cabin-co.html#cloud2trees-point-cloud-processing-5"><i class="fa fa-check"></i><b>5.2.2</b> <code>cloud2trees</code> point cloud processing</a></li>
<li class="chapter" data-level="5.2.3" data-path="salt-cabin-co.html"><a href="salt-cabin-co.html#cloud2trees-results-5"><i class="fa fa-check"></i><b>5.2.3</b> <code>cloud2trees</code> Results</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="cedar-bridge-nj.html"><a href="cedar-bridge-nj.html"><i class="fa fa-check"></i><b>6</b> Cedar Bridge (NJ)</a>
<ul>
<li class="chapter" data-level="6.1" data-path="cedar-bridge-nj.html"><a href="cedar-bridge-nj.html#als-processing"><i class="fa fa-check"></i><b>6.1</b> ALS Processing</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="cedar-bridge-nj.html"><a href="cedar-bridge-nj.html#itd-tuning-6"><i class="fa fa-check"></i><b>6.1.1</b> ITD tuning</a></li>
<li class="chapter" data-level="6.1.2" data-path="cedar-bridge-nj.html"><a href="cedar-bridge-nj.html#cloud2trees-point-cloud-processing-6"><i class="fa fa-check"></i><b>6.1.2</b> <code>cloud2trees</code> point cloud processing</a></li>
<li class="chapter" data-level="6.1.3" data-path="cedar-bridge-nj.html"><a href="cedar-bridge-nj.html#cloud2trees-results-6"><i class="fa fa-check"></i><b>6.1.3</b> <code>cloud2trees</code> Results</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="cedar-bridge-nj.html"><a href="cedar-bridge-nj.html#uas-lidar-processing"><i class="fa fa-check"></i><b>6.2</b> UAS lidar Processing</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="cedar-bridge-nj.html"><a href="cedar-bridge-nj.html#itd-tuning-7"><i class="fa fa-check"></i><b>6.2.1</b> ITD tuning</a></li>
<li class="chapter" data-level="6.2.2" data-path="cedar-bridge-nj.html"><a href="cedar-bridge-nj.html#cloud2trees-point-cloud-processing-7"><i class="fa fa-check"></i><b>6.2.2</b> <code>cloud2trees</code> point cloud processing</a></li>
<li class="chapter" data-level="6.2.3" data-path="cedar-bridge-nj.html"><a href="cedar-bridge-nj.html#cloud2trees-results-7"><i class="fa fa-check"></i><b>6.2.3</b> <code>cloud2trees</code> Results</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="point-cloud-processing-results.html"><a href="point-cloud-processing-results.html"><i class="fa fa-check"></i><b>7</b> Point Cloud Processing Results</a>
<ul>
<li class="chapter" data-level="7.1" data-path="point-cloud-processing-results.html"><a href="point-cloud-processing-results.html#processing-time"><i class="fa fa-check"></i><b>7.1</b> Processing Time</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="point-cloud-processing-results.html"><a href="point-cloud-processing-results.html#point-cloud-processing-time-versus-point-density"><i class="fa fa-check"></i><b>7.1.1</b> Point Cloud Processing Time versus Point Density</a></li>
<li class="chapter" data-level="7.1.2" data-path="point-cloud-processing-results.html"><a href="point-cloud-processing-results.html#point-cloud-processing-time-by-section"><i class="fa fa-check"></i><b>7.1.2</b> Point Cloud Processing Time by Section (%)</a></li>
<li class="chapter" data-level="7.1.3" data-path="point-cloud-processing-results.html"><a href="point-cloud-processing-results.html#point-cloud-processing-time-by-section-total"><i class="fa fa-check"></i><b>7.1.3</b> Point Cloud Processing Time by Section (total)</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="point-cloud-processing-results.html"><a href="point-cloud-processing-results.html#silvicultural-metrics"><i class="fa fa-check"></i><b>7.2</b> Silvicultural Metrics</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="point-cloud-processing-results.html"><a href="point-cloud-processing-results.html#example"><i class="fa fa-check"></i><b>7.2.1</b> Example</a></li>
<li class="chapter" data-level="7.2.2" data-path="point-cloud-processing-results.html"><a href="point-cloud-processing-results.html#study-area-summaries"><i class="fa fa-check"></i><b>7.2.2</b> Study Area Summaries</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="lanl_trees.html"><a href="lanl_trees.html"><i class="fa fa-check"></i><b>8</b> <code>cloud2trees</code> to LANL TREES</a>
<ul>
<li class="chapter" data-level="8.1" data-path="lanl_trees.html"><a href="lanl_trees.html#surface-fuel-quantification"><i class="fa fa-check"></i><b>8.1</b> Surface Fuel Quantification</a></li>
<li class="chapter" data-level="8.2" data-path="lanl_trees.html"><a href="lanl_trees.html#cloud2treescloud2trees_to_lanl_trees-example-process"><i class="fa fa-check"></i><b>8.2</b> <code>cloud2trees::cloud2trees_to_lanl_trees()</code> example process</a></li>
<li class="chapter" data-level="8.3" data-path="lanl_trees.html"><a href="lanl_trees.html#cloud2treescloud2trees_to_lanl_trees-everything"><i class="fa fa-check"></i><b>8.3</b> <code>cloud2trees::cloud2trees_to_lanl_trees()</code> everything</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="d-fuel-structures.html"><a href="d-fuel-structures.html"><i class="fa fa-check"></i><b>9</b> 3D Fuel Structures</a>
<ul>
<li class="chapter" data-level="9.1" data-path="d-fuel-structures.html"><a href="d-fuel-structures.html#salt-cabin-co---als"><i class="fa fa-check"></i><b>9.1</b> Salt Cabin (CO) - ALS</a></li>
<li class="chapter" data-level="9.2" data-path="d-fuel-structures.html"><a href="d-fuel-structures.html#salt-cabin-co---uas-sfm"><i class="fa fa-check"></i><b>9.2</b> Salt Cabin (CO) - UAS-SfM</a></li>
<li class="chapter" data-level="9.3" data-path="d-fuel-structures.html"><a href="d-fuel-structures.html#sycan-marsh-or---als"><i class="fa fa-check"></i><b>9.3</b> Sycan Marsh (OR) - ALS</a></li>
<li class="chapter" data-level="9.4" data-path="d-fuel-structures.html"><a href="d-fuel-structures.html#sycan-marsh-or---uas-lidar"><i class="fa fa-check"></i><b>9.4</b> Sycan Marsh (OR) - UAS-lidar</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="lessons-learned.html"><a href="lessons-learned.html"><i class="fa fa-check"></i><b>10</b> Lessons Learned</a>
<ul>
<li class="chapter" data-level="10.1" data-path="lessons-learned.html"><a href="lessons-learned.html#data-processing-challengesgaps"><i class="fa fa-check"></i><b>10.1</b> Data Processing Challenges/Gaps</a></li>
<li class="chapter" data-level="10.2" data-path="lessons-learned.html"><a href="lessons-learned.html#challenges-with-these-demos"><i class="fa fa-check"></i><b>10.2</b> Challenges with these Demos</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">DoD cloud2trees Demonstration: Forest Fuel Quantification for Wildfire Modeling using QUIC-Fire</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="point-cloud-processing-results" class="section level1 hasAnchor" number="7">
<h1><span class="header-section-number">Section 7</span> Point Cloud Processing Results<a href="point-cloud-processing-results.html#point-cloud-processing-results" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="processing-time" class="section level2 hasAnchor" number="7.1">
<h2><span class="header-section-number">7.1</span> Processing Time<a href="point-cloud-processing-results.html#processing-time" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>let’s look into the processing time comparison across data sets</p>
<p>the <code>cloud2trees::cloud2trees()</code> program automatically tracks processing time for all sections and stores the tracking data in the “point_cloud_processing_delivery” directory in a file called “processed_tracking_data.csv”</p>
<div class="sourceCode" id="cb120"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb120-1"><a href="point-cloud-processing-results.html#cb120-1" tabindex="-1"></a>dir_temp <span class="ot">&lt;-</span> <span class="st">&quot;../data&quot;</span></span>
<span id="cb120-2"><a href="point-cloud-processing-results.html#cb120-2" tabindex="-1"></a><span class="co"># what processing data?</span></span>
<span id="cb120-3"><a href="point-cloud-processing-results.html#cb120-3" tabindex="-1"></a>df_temp <span class="ot">&lt;-</span></span>
<span id="cb120-4"><a href="point-cloud-processing-results.html#cb120-4" tabindex="-1"></a>  <span class="fu">list.files</span>(</span>
<span id="cb120-5"><a href="point-cloud-processing-results.html#cb120-5" tabindex="-1"></a>    dir_temp</span>
<span id="cb120-6"><a href="point-cloud-processing-results.html#cb120-6" tabindex="-1"></a>    , <span class="at">pattern =</span> <span class="st">&quot;processed_tracking_data.csv&quot;</span></span>
<span id="cb120-7"><a href="point-cloud-processing-results.html#cb120-7" tabindex="-1"></a>    , <span class="at">recursive =</span> T</span>
<span id="cb120-8"><a href="point-cloud-processing-results.html#cb120-8" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb120-9"><a href="point-cloud-processing-results.html#cb120-9" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">tibble</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb120-10"><a href="point-cloud-processing-results.html#cb120-10" tabindex="-1"></a>  <span class="fu">setNames</span>(<span class="st">&quot;fpath&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb120-11"><a href="point-cloud-processing-results.html#cb120-11" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb120-12"><a href="point-cloud-processing-results.html#cb120-12" tabindex="-1"></a>    <span class="at">data_desc =</span> stringr<span class="sc">::</span><span class="fu">word</span>(fpath, <span class="dv">2</span>, <span class="at">sep =</span> <span class="st">&quot;/&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb120-13"><a href="point-cloud-processing-results.html#cb120-13" tabindex="-1"></a>      stringr<span class="sc">::</span><span class="fu">str_remove_all</span>(<span class="st">&quot;_processing&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb120-14"><a href="point-cloud-processing-results.html#cb120-14" tabindex="-1"></a>      stringr<span class="sc">::</span><span class="fu">str_replace_all</span>(<span class="st">&quot;_&quot;</span>,<span class="st">&quot; &quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb120-15"><a href="point-cloud-processing-results.html#cb120-15" tabindex="-1"></a>      stringr<span class="sc">::</span><span class="fu">str_squish</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb120-16"><a href="point-cloud-processing-results.html#cb120-16" tabindex="-1"></a>      <span class="fu">toupper</span>()</span>
<span id="cb120-17"><a href="point-cloud-processing-results.html#cb120-17" tabindex="-1"></a>    , <span class="at">data_type =</span> data_desc <span class="sc">%&gt;%</span> </span>
<span id="cb120-18"><a href="point-cloud-processing-results.html#cb120-18" tabindex="-1"></a>      stringr<span class="sc">::</span><span class="fu">str_remove_all</span>(<span class="st">&quot;[0-9]&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb120-19"><a href="point-cloud-processing-results.html#cb120-19" tabindex="-1"></a>      stringr<span class="sc">::</span><span class="fu">str_squish</span>()</span>
<span id="cb120-20"><a href="point-cloud-processing-results.html#cb120-20" tabindex="-1"></a>    , <span class="at">study_site =</span> stringr<span class="sc">::</span><span class="fu">word</span>(fpath, <span class="at">sep =</span> <span class="st">&quot;/&quot;</span>)</span>
<span id="cb120-21"><a href="point-cloud-processing-results.html#cb120-21" tabindex="-1"></a>    , <span class="at">fpath =</span> <span class="fu">file.path</span>(dir_temp, fpath)</span>
<span id="cb120-22"><a href="point-cloud-processing-results.html#cb120-22" tabindex="-1"></a>    , <span class="at">fdir =</span> <span class="fu">dirname</span>(fpath)</span>
<span id="cb120-23"><a href="point-cloud-processing-results.html#cb120-23" tabindex="-1"></a>  )</span>
<span id="cb120-24"><a href="point-cloud-processing-results.html#cb120-24" tabindex="-1"></a><span class="co"># read in processing data</span></span>
<span id="cb120-25"><a href="point-cloud-processing-results.html#cb120-25" tabindex="-1"></a>df_temp <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(df_temp) <span class="sc">%&gt;%</span> </span>
<span id="cb120-26"><a href="point-cloud-processing-results.html#cb120-26" tabindex="-1"></a>  purrr<span class="sc">::</span><span class="fu">map</span>(\(x)</span>
<span id="cb120-27"><a href="point-cloud-processing-results.html#cb120-27" tabindex="-1"></a>    readr<span class="sc">::</span><span class="fu">read_csv</span>(</span>
<span id="cb120-28"><a href="point-cloud-processing-results.html#cb120-28" tabindex="-1"></a>      df_temp<span class="sc">$</span>fpath[x]</span>
<span id="cb120-29"><a href="point-cloud-processing-results.html#cb120-29" tabindex="-1"></a>      , <span class="at">show_col_types =</span> F</span>
<span id="cb120-30"><a href="point-cloud-processing-results.html#cb120-30" tabindex="-1"></a>      , <span class="at">progress =</span> F</span>
<span id="cb120-31"><a href="point-cloud-processing-results.html#cb120-31" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb120-32"><a href="point-cloud-processing-results.html#cb120-32" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb120-33"><a href="point-cloud-processing-results.html#cb120-33" tabindex="-1"></a>      <span class="at">study_site =</span> df_temp<span class="sc">$</span>study_site[x]</span>
<span id="cb120-34"><a href="point-cloud-processing-results.html#cb120-34" tabindex="-1"></a>      , <span class="at">data_desc =</span> df_temp<span class="sc">$</span>data_desc[x]</span>
<span id="cb120-35"><a href="point-cloud-processing-results.html#cb120-35" tabindex="-1"></a>    )</span>
<span id="cb120-36"><a href="point-cloud-processing-results.html#cb120-36" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb120-37"><a href="point-cloud-processing-results.html#cb120-37" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">bind_rows</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb120-38"><a href="point-cloud-processing-results.html#cb120-38" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">inner_join</span>(df_temp, <span class="at">by =</span> dplyr<span class="sc">::</span><span class="fu">join_by</span>(study_site,data_desc))</span>
<span id="cb120-39"><a href="point-cloud-processing-results.html#cb120-39" tabindex="-1"></a><span class="co"># add in study bounds</span></span>
<span id="cb120-40"><a href="point-cloud-processing-results.html#cb120-40" tabindex="-1"></a>study_sites_processing_sf <span class="ot">&lt;-</span> </span>
<span id="cb120-41"><a href="point-cloud-processing-results.html#cb120-41" tabindex="-1"></a>  study_sites_sf <span class="sc">%&gt;%</span> </span>
<span id="cb120-42"><a href="point-cloud-processing-results.html#cb120-42" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(study_site, study_site_lab) <span class="sc">%&gt;%</span> </span>
<span id="cb120-43"><a href="point-cloud-processing-results.html#cb120-43" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">inner_join</span>(</span>
<span id="cb120-44"><a href="point-cloud-processing-results.html#cb120-44" tabindex="-1"></a>    df_temp</span>
<span id="cb120-45"><a href="point-cloud-processing-results.html#cb120-45" tabindex="-1"></a>    , <span class="at">by =</span> <span class="st">&quot;study_site&quot;</span></span>
<span id="cb120-46"><a href="point-cloud-processing-results.html#cb120-46" tabindex="-1"></a>    , <span class="at">relationship =</span> <span class="st">&quot;one-to-many&quot;</span></span>
<span id="cb120-47"><a href="point-cloud-processing-results.html#cb120-47" tabindex="-1"></a>  )</span></code></pre></div>
<p>let’s relativize and proportionalize the tracking data</p>
<div class="sourceCode" id="cb121"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb121-1"><a href="point-cloud-processing-results.html#cb121-1" tabindex="-1"></a><span class="co"># aggregate the total processing time</span></span>
<span id="cb121-2"><a href="point-cloud-processing-results.html#cb121-2" tabindex="-1"></a>study_sites_processing_sf <span class="ot">&lt;-</span> </span>
<span id="cb121-3"><a href="point-cloud-processing-results.html#cb121-3" tabindex="-1"></a>  study_sites_processing_sf <span class="sc">%&gt;%</span> </span>
<span id="cb121-4"><a href="point-cloud-processing-results.html#cb121-4" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb121-5"><a href="point-cloud-processing-results.html#cb121-5" tabindex="-1"></a>    <span class="at">timer_total_time_mins =</span> timer_cloud2raster_mins <span class="sc">+</span> timer_raster2trees_mins <span class="sc">+</span></span>
<span id="cb121-6"><a href="point-cloud-processing-results.html#cb121-6" tabindex="-1"></a>      timer_trees_dbh_mins <span class="sc">+</span> timer_trees_cbh_mins <span class="sc">+</span> timer_trees_type_mins <span class="sc">+</span></span>
<span id="cb121-7"><a href="point-cloud-processing-results.html#cb121-7" tabindex="-1"></a>      timer_trees_hmd_mins <span class="sc">+</span> timer_trees_biomass_mins <span class="sc">+</span> timer_write_data_mins</span>
<span id="cb121-8"><a href="point-cloud-processing-results.html#cb121-8" tabindex="-1"></a>    , <span class="at">timer_tree_extraction_mins =</span> timer_cloud2raster_mins <span class="sc">+</span> timer_raster2trees_mins</span>
<span id="cb121-9"><a href="point-cloud-processing-results.html#cb121-9" tabindex="-1"></a>    , <span class="at">las_area_ha =</span> (las_area_m2<span class="sc">/</span><span class="dv">10000</span>)</span>
<span id="cb121-10"><a href="point-cloud-processing-results.html#cb121-10" tabindex="-1"></a>    , <span class="at">points_m2 =</span> number_of_points<span class="sc">/</span>las_area_m2</span>
<span id="cb121-11"><a href="point-cloud-processing-results.html#cb121-11" tabindex="-1"></a>    <span class="co"># relative</span></span>
<span id="cb121-12"><a href="point-cloud-processing-results.html#cb121-12" tabindex="-1"></a>    , dplyr<span class="sc">::</span><span class="fu">across</span>(</span>
<span id="cb121-13"><a href="point-cloud-processing-results.html#cb121-13" tabindex="-1"></a>      <span class="at">.cols =</span> tidyselect<span class="sc">::</span><span class="fu">starts_with</span>(<span class="st">&quot;timer_&quot;</span>) <span class="sc">&amp;</span> tidyselect<span class="sc">::</span><span class="fu">ends_with</span>(<span class="st">&quot;_mins&quot;</span>)</span>
<span id="cb121-14"><a href="point-cloud-processing-results.html#cb121-14" tabindex="-1"></a>      , <span class="at">.fns =</span> <span class="sc">~</span> (.x<span class="sc">*</span><span class="dv">60</span>)<span class="sc">/</span>las_area_ha <span class="co"># sec/ha</span></span>
<span id="cb121-15"><a href="point-cloud-processing-results.html#cb121-15" tabindex="-1"></a>      <span class="co"># , .fns = ~ .x/las_area_ha # min/ha</span></span>
<span id="cb121-16"><a href="point-cloud-processing-results.html#cb121-16" tabindex="-1"></a>      , <span class="at">.names =</span> <span class="st">&quot;{.col}_secperha&quot;</span></span>
<span id="cb121-17"><a href="point-cloud-processing-results.html#cb121-17" tabindex="-1"></a>      <span class="co"># , .names = &quot;{.col}_minperha&quot;</span></span>
<span id="cb121-18"><a href="point-cloud-processing-results.html#cb121-18" tabindex="-1"></a>    )</span>
<span id="cb121-19"><a href="point-cloud-processing-results.html#cb121-19" tabindex="-1"></a>    <span class="co"># proportion</span></span>
<span id="cb121-20"><a href="point-cloud-processing-results.html#cb121-20" tabindex="-1"></a>    , dplyr<span class="sc">::</span><span class="fu">across</span>(</span>
<span id="cb121-21"><a href="point-cloud-processing-results.html#cb121-21" tabindex="-1"></a>       <span class="at">.cols =</span> <span class="fu">c</span>(timer_tree_extraction_mins,</span>
<span id="cb121-22"><a href="point-cloud-processing-results.html#cb121-22" tabindex="-1"></a>        timer_trees_dbh_mins, timer_trees_cbh_mins, timer_trees_type_mins,</span>
<span id="cb121-23"><a href="point-cloud-processing-results.html#cb121-23" tabindex="-1"></a>        timer_trees_hmd_mins, timer_trees_biomass_mins, timer_write_data_mins)</span>
<span id="cb121-24"><a href="point-cloud-processing-results.html#cb121-24" tabindex="-1"></a>       , <span class="at">.fns =</span> <span class="sc">~</span> .x<span class="sc">/</span>timer_total_time_mins</span>
<span id="cb121-25"><a href="point-cloud-processing-results.html#cb121-25" tabindex="-1"></a>       , <span class="at">.names =</span> <span class="st">&quot;{.col}_pct&quot;</span></span>
<span id="cb121-26"><a href="point-cloud-processing-results.html#cb121-26" tabindex="-1"></a>    )</span>
<span id="cb121-27"><a href="point-cloud-processing-results.html#cb121-27" tabindex="-1"></a>  )</span>
<span id="cb121-28"><a href="point-cloud-processing-results.html#cb121-28" tabindex="-1"></a><span class="co"># study_sites_processing_sf %&gt;% dplyr::glimpse()</span></span></code></pre></div>
<p>what is all included in this data?</p>
<div class="sourceCode" id="cb122"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb122-1"><a href="point-cloud-processing-results.html#cb122-1" tabindex="-1"></a>study_sites_processing_sf <span class="sc">%&gt;%</span> <span class="fu">names</span>()</span></code></pre></div>
<pre><code>##  [1] &quot;study_site&quot;                           
##  [2] &quot;study_site_lab&quot;                       
##  [3] &quot;number_of_points&quot;                     
##  [4] &quot;las_area_m2&quot;                          
##  [5] &quot;timer_cloud2raster_mins&quot;              
##  [6] &quot;timer_raster2trees_mins&quot;              
##  [7] &quot;timer_trees_competition_mins&quot;         
##  [8] &quot;timer_treels_stem_dbh_mins&quot;           
##  [9] &quot;timer_trees_dbh_mins&quot;                 
## [10] &quot;timer_trees_cbh_mins&quot;                 
## [11] &quot;timer_trees_type_mins&quot;                
## [12] &quot;timer_trees_hmd_mins&quot;                 
## [13] &quot;timer_trees_biomass_mins&quot;             
## [14] &quot;timer_write_data_mins&quot;                
## [15] &quot;timer_total_time_mins&quot;                
## [16] &quot;sttng_input_las_dir&quot;                  
## [17] &quot;sttng_accuracy_level&quot;                 
## [18] &quot;sttng_max_ctg_pts&quot;                    
## [19] &quot;sttng_max_area_m2&quot;                    
## [20] &quot;sttng_dtm_res_m&quot;                      
## [21] &quot;sttng_chm_res_m&quot;                      
## [22] &quot;sttng_min_height&quot;                     
## [23] &quot;sttng_max_height&quot;                     
## [24] &quot;sttng_ws&quot;                             
## [25] &quot;sttng_estimate_tree_dbh&quot;              
## [26] &quot;sttng_max_dbh&quot;                        
## [27] &quot;sttng_dbh_model&quot;                      
## [28] &quot;sttng_estimate_dbh_from_cloud&quot;        
## [29] &quot;sttng_estimate_tree_competition&quot;      
## [30] &quot;sttng_competition_buffer_m&quot;           
## [31] &quot;sttng_competition_max_search_dist_m&quot;  
## [32] &quot;sttng_estimate_tree_type&quot;             
## [33] &quot;sttng_type_max_search_dist_m&quot;         
## [34] &quot;sttng_estimate_tree_hmd&quot;              
## [35] &quot;sttng_hmd_tree_sample_n&quot;              
## [36] &quot;sttng_hmd_tree_sample_prop&quot;           
## [37] &quot;sttng_hmd_estimate_missing_hmd&quot;       
## [38] &quot;sttng_estimate_biomass_method&quot;        
## [39] &quot;sttng_biomass_max_crown_kg_per_m3&quot;    
## [40] &quot;sttng_estimate_tree_cbh&quot;              
## [41] &quot;sttng_cbh_tree_sample_n&quot;              
## [42] &quot;sttng_cbh_tree_sample_prop&quot;           
## [43] &quot;sttng_cbh_which_cbh&quot;                  
## [44] &quot;sttng_cbh_estimate_missing_cbh&quot;       
## [45] &quot;sttng_cbh_min_vhp_n&quot;                  
## [46] &quot;sttng_cbh_voxel_grain_size_m&quot;         
## [47] &quot;sttng_cbh_dist_btwn_bins_m&quot;           
## [48] &quot;sttng_cbh_min_fuel_layer_ht_m&quot;        
## [49] &quot;sttng_cbh_lad_pct_gap&quot;                
## [50] &quot;sttng_cbh_lad_pct_base&quot;               
## [51] &quot;sttng_cbh_num_jump_steps&quot;             
## [52] &quot;sttng_cbh_min_lad_pct&quot;                
## [53] &quot;sttng_cbh_frst_layer_min_ht_m&quot;        
## [54] &quot;data_desc&quot;                            
## [55] &quot;fpath&quot;                                
## [56] &quot;data_type&quot;                            
## [57] &quot;fdir&quot;                                 
## [58] &quot;geometry&quot;                             
## [59] &quot;timer_tree_extraction_mins&quot;           
## [60] &quot;las_area_ha&quot;                          
## [61] &quot;points_m2&quot;                            
## [62] &quot;timer_cloud2raster_mins_secperha&quot;     
## [63] &quot;timer_raster2trees_mins_secperha&quot;     
## [64] &quot;timer_trees_competition_mins_secperha&quot;
## [65] &quot;timer_treels_stem_dbh_mins_secperha&quot;  
## [66] &quot;timer_trees_dbh_mins_secperha&quot;        
## [67] &quot;timer_trees_cbh_mins_secperha&quot;        
## [68] &quot;timer_trees_type_mins_secperha&quot;       
## [69] &quot;timer_trees_hmd_mins_secperha&quot;        
## [70] &quot;timer_trees_biomass_mins_secperha&quot;    
## [71] &quot;timer_write_data_mins_secperha&quot;       
## [72] &quot;timer_total_time_mins_secperha&quot;       
## [73] &quot;timer_tree_extraction_mins_secperha&quot;  
## [74] &quot;timer_tree_extraction_mins_pct&quot;       
## [75] &quot;timer_trees_dbh_mins_pct&quot;             
## [76] &quot;timer_trees_cbh_mins_pct&quot;             
## [77] &quot;timer_trees_type_mins_pct&quot;            
## [78] &quot;timer_trees_hmd_mins_pct&quot;             
## [79] &quot;timer_trees_biomass_mins_pct&quot;         
## [80] &quot;timer_write_data_mins_pct&quot;</code></pre>
<p>that’s a lot of tracking data, let’s look at the main timing parameters</p>
<div class="sourceCode" id="cb124"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb124-1"><a href="point-cloud-processing-results.html#cb124-1" tabindex="-1"></a><span class="co"># format data for plotting/tabling</span></span>
<span id="cb124-2"><a href="point-cloud-processing-results.html#cb124-2" tabindex="-1"></a>table_temp <span class="ot">&lt;-</span></span>
<span id="cb124-3"><a href="point-cloud-processing-results.html#cb124-3" tabindex="-1"></a>  study_sites_processing_sf <span class="sc">%&gt;%</span> </span>
<span id="cb124-4"><a href="point-cloud-processing-results.html#cb124-4" tabindex="-1"></a>  sf<span class="sc">::</span><span class="fu">st_drop_geometry</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb124-5"><a href="point-cloud-processing-results.html#cb124-5" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(</span>
<span id="cb124-6"><a href="point-cloud-processing-results.html#cb124-6" tabindex="-1"></a>    study_site, study_site_lab, data_desc, data_type, number_of_points, las_area_ha, points_m2</span>
<span id="cb124-7"><a href="point-cloud-processing-results.html#cb124-7" tabindex="-1"></a>    , <span class="fu">c</span>(timer_tree_extraction_mins,</span>
<span id="cb124-8"><a href="point-cloud-processing-results.html#cb124-8" tabindex="-1"></a>      timer_trees_dbh_mins, timer_trees_cbh_mins, timer_trees_type_mins,</span>
<span id="cb124-9"><a href="point-cloud-processing-results.html#cb124-9" tabindex="-1"></a>      timer_trees_hmd_mins, timer_trees_biomass_mins, timer_write_data_mins</span>
<span id="cb124-10"><a href="point-cloud-processing-results.html#cb124-10" tabindex="-1"></a>      , timer_total_time_mins</span>
<span id="cb124-11"><a href="point-cloud-processing-results.html#cb124-11" tabindex="-1"></a>      , <span class="fu">c</span>(tidyselect<span class="sc">::</span><span class="fu">ends_with</span>(<span class="st">&quot;_pct&quot;</span>) <span class="sc">&amp;</span> tidyselect<span class="sc">::</span><span class="fu">starts_with</span>(<span class="st">&quot;timer_&quot;</span>))</span>
<span id="cb124-12"><a href="point-cloud-processing-results.html#cb124-12" tabindex="-1"></a>      , <span class="fu">c</span>(tidyselect<span class="sc">::</span><span class="fu">ends_with</span>(<span class="st">&quot;_secperha&quot;</span>) <span class="sc">&amp;</span> tidyselect<span class="sc">::</span><span class="fu">starts_with</span>(<span class="st">&quot;timer_&quot;</span>))</span>
<span id="cb124-13"><a href="point-cloud-processing-results.html#cb124-13" tabindex="-1"></a>    )</span>
<span id="cb124-14"><a href="point-cloud-processing-results.html#cb124-14" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb124-15"><a href="point-cloud-processing-results.html#cb124-15" tabindex="-1"></a>  tidyr<span class="sc">::</span><span class="fu">pivot_longer</span>(</span>
<span id="cb124-16"><a href="point-cloud-processing-results.html#cb124-16" tabindex="-1"></a>    <span class="at">cols =</span> <span class="sc">-</span><span class="fu">c</span>(study_site, study_site_lab, data_desc, data_type, number_of_points, las_area_ha, points_m2)</span>
<span id="cb124-17"><a href="point-cloud-processing-results.html#cb124-17" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb124-18"><a href="point-cloud-processing-results.html#cb124-18" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb124-19"><a href="point-cloud-processing-results.html#cb124-19" tabindex="-1"></a>    <span class="at">units =</span> stringr<span class="sc">::</span><span class="fu">word</span>(name, <span class="sc">-</span><span class="dv">1</span>, <span class="at">sep =</span> <span class="st">&quot;_&quot;</span>)</span>
<span id="cb124-20"><a href="point-cloud-processing-results.html#cb124-20" tabindex="-1"></a>    , <span class="at">section =</span> name <span class="sc">%&gt;%</span> </span>
<span id="cb124-21"><a href="point-cloud-processing-results.html#cb124-21" tabindex="-1"></a>      stringr<span class="sc">::</span><span class="fu">str_remove_all</span>(<span class="st">&quot;timer_&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb124-22"><a href="point-cloud-processing-results.html#cb124-22" tabindex="-1"></a>      stringr<span class="sc">::</span><span class="fu">str_remove_all</span>(<span class="st">&quot;_mins&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb124-23"><a href="point-cloud-processing-results.html#cb124-23" tabindex="-1"></a>      stringr<span class="sc">::</span><span class="fu">str_remove_all</span>(<span class="st">&quot;_pct&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb124-24"><a href="point-cloud-processing-results.html#cb124-24" tabindex="-1"></a>      stringr<span class="sc">::</span><span class="fu">str_remove_all</span>(<span class="st">&quot;_secperha&quot;</span>)</span>
<span id="cb124-25"><a href="point-cloud-processing-results.html#cb124-25" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb124-26"><a href="point-cloud-processing-results.html#cb124-26" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>name) <span class="sc">%&gt;%</span> </span>
<span id="cb124-27"><a href="point-cloud-processing-results.html#cb124-27" tabindex="-1"></a>  <span class="co"># dplyr::count(units)</span></span>
<span id="cb124-28"><a href="point-cloud-processing-results.html#cb124-28" tabindex="-1"></a>  tidyr<span class="sc">::</span><span class="fu">pivot_wider</span>(<span class="at">names_from =</span> units, <span class="at">values_from =</span> value) <span class="sc">%&gt;%</span> </span>
<span id="cb124-29"><a href="point-cloud-processing-results.html#cb124-29" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb124-30"><a href="point-cloud-processing-results.html#cb124-30" tabindex="-1"></a>    <span class="at">mins_lab =</span> scales<span class="sc">::</span><span class="fu">comma</span>(mins,<span class="at">accuracy =</span> <span class="fl">0.1</span>)</span>
<span id="cb124-31"><a href="point-cloud-processing-results.html#cb124-31" tabindex="-1"></a>    , <span class="at">perha_lab =</span> scales<span class="sc">::</span><span class="fu">comma</span>(secperha,<span class="at">accuracy =</span> <span class="fl">0.01</span>)</span>
<span id="cb124-32"><a href="point-cloud-processing-results.html#cb124-32" tabindex="-1"></a>    , <span class="at">pct_lab =</span> scales<span class="sc">::</span><span class="fu">percent</span>(pct,<span class="at">accuracy =</span> <span class="fl">0.1</span>)</span>
<span id="cb124-33"><a href="point-cloud-processing-results.html#cb124-33" tabindex="-1"></a>    <span class="co"># site lab</span></span>
<span id="cb124-34"><a href="point-cloud-processing-results.html#cb124-34" tabindex="-1"></a>    , <span class="at">big_lab =</span> stringr<span class="sc">::</span><span class="fu">str_c</span>(</span>
<span id="cb124-35"><a href="point-cloud-processing-results.html#cb124-35" tabindex="-1"></a>      data_desc</span>
<span id="cb124-36"><a href="point-cloud-processing-results.html#cb124-36" tabindex="-1"></a>      , <span class="fu">paste0</span>(<span class="st">&quot;area: &quot;</span>, scales<span class="sc">::</span><span class="fu">comma</span>(las_area_ha, <span class="at">accuracy =</span> <span class="dv">1</span>, <span class="at">suffix =</span> <span class="st">&quot; ha&quot;</span>))</span>
<span id="cb124-37"><a href="point-cloud-processing-results.html#cb124-37" tabindex="-1"></a>      , <span class="fu">paste0</span>(<span class="st">&quot;points: &quot;</span>, scales<span class="sc">::</span><span class="fu">comma</span>(number_of_points, <span class="at">accuracy =</span> <span class="fl">0.1</span>, <span class="at">scale =</span> <span class="dv">1</span><span class="sc">/</span><span class="dv">1000000</span>, <span class="at">suffix =</span> <span class="st">&quot;M&quot;</span>))</span>
<span id="cb124-38"><a href="point-cloud-processing-results.html#cb124-38" tabindex="-1"></a>      , <span class="fu">paste0</span>(<span class="st">&quot;points m&lt;sup&gt;-2&lt;/sup&gt;: &quot;</span>, scales<span class="sc">::</span><span class="fu">comma</span>(points_m2, <span class="at">accuracy =</span> <span class="fl">0.1</span>))</span>
<span id="cb124-39"><a href="point-cloud-processing-results.html#cb124-39" tabindex="-1"></a>      , <span class="at">sep =</span> <span class="st">&quot;&lt;br&gt;&quot;</span></span>
<span id="cb124-40"><a href="point-cloud-processing-results.html#cb124-40" tabindex="-1"></a>    )</span>
<span id="cb124-41"><a href="point-cloud-processing-results.html#cb124-41" tabindex="-1"></a>    , <span class="at">big_lab_ggplot =</span> stringr<span class="sc">::</span><span class="fu">str_c</span>(</span>
<span id="cb124-42"><a href="point-cloud-processing-results.html#cb124-42" tabindex="-1"></a>      data_desc</span>
<span id="cb124-43"><a href="point-cloud-processing-results.html#cb124-43" tabindex="-1"></a>      , <span class="fu">paste0</span>(<span class="st">&quot;area: &quot;</span>, scales<span class="sc">::</span><span class="fu">comma</span>(las_area_ha, <span class="at">accuracy =</span> <span class="dv">1</span>, <span class="at">suffix =</span> <span class="st">&quot; ha&quot;</span>))</span>
<span id="cb124-44"><a href="point-cloud-processing-results.html#cb124-44" tabindex="-1"></a>      , <span class="fu">paste0</span>(<span class="st">&quot;points: &quot;</span>, scales<span class="sc">::</span><span class="fu">comma</span>(number_of_points, <span class="at">accuracy =</span> <span class="fl">0.1</span>, <span class="at">scale =</span> <span class="dv">1</span><span class="sc">/</span><span class="dv">1000000</span>, <span class="at">suffix =</span> <span class="st">&quot;M&quot;</span>))</span>
<span id="cb124-45"><a href="point-cloud-processing-results.html#cb124-45" tabindex="-1"></a>      , <span class="fu">paste0</span>(<span class="st">&quot;points/m2: &quot;</span>, scales<span class="sc">::</span><span class="fu">comma</span>(points_m2, <span class="at">accuracy =</span> <span class="fl">0.1</span>))</span>
<span id="cb124-46"><a href="point-cloud-processing-results.html#cb124-46" tabindex="-1"></a>      , <span class="at">sep =</span> <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span></span>
<span id="cb124-47"><a href="point-cloud-processing-results.html#cb124-47" tabindex="-1"></a>    )</span>
<span id="cb124-48"><a href="point-cloud-processing-results.html#cb124-48" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span>  </span>
<span id="cb124-49"><a href="point-cloud-processing-results.html#cb124-49" tabindex="-1"></a>  <span class="co"># dplyr::count(section)</span></span>
<span id="cb124-50"><a href="point-cloud-processing-results.html#cb124-50" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(mins)) <span class="sc">%&gt;%</span> </span>
<span id="cb124-51"><a href="point-cloud-processing-results.html#cb124-51" tabindex="-1"></a>  <span class="co"># section lab after filter so factor doesn&#39;t have rand levels</span></span>
<span id="cb124-52"><a href="point-cloud-processing-results.html#cb124-52" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb124-53"><a href="point-cloud-processing-results.html#cb124-53" tabindex="-1"></a>    <span class="at">section =</span> section <span class="sc">%&gt;%</span> </span>
<span id="cb124-54"><a href="point-cloud-processing-results.html#cb124-54" tabindex="-1"></a>      stringr<span class="sc">::</span><span class="fu">str_replace_all</span>(<span class="st">&quot;_&quot;</span>, <span class="st">&quot; &quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb124-55"><a href="point-cloud-processing-results.html#cb124-55" tabindex="-1"></a>      stringr<span class="sc">::</span><span class="fu">str_remove_all</span>(<span class="st">&quot;time&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb124-56"><a href="point-cloud-processing-results.html#cb124-56" tabindex="-1"></a>      stringr<span class="sc">::</span><span class="fu">str_replace_all</span>(<span class="st">&quot;dbh&quot;</span>, <span class="st">&quot;DBH&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb124-57"><a href="point-cloud-processing-results.html#cb124-57" tabindex="-1"></a>      stringr<span class="sc">::</span><span class="fu">str_replace_all</span>(<span class="st">&quot;cbh&quot;</span>, <span class="st">&quot;CBH&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb124-58"><a href="point-cloud-processing-results.html#cb124-58" tabindex="-1"></a>      stringr<span class="sc">::</span><span class="fu">str_replace_all</span>(<span class="st">&quot;hmd&quot;</span>, <span class="st">&quot;HMD&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb124-59"><a href="point-cloud-processing-results.html#cb124-59" tabindex="-1"></a>      stringr<span class="sc">::</span><span class="fu">str_squish</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb124-60"><a href="point-cloud-processing-results.html#cb124-60" tabindex="-1"></a>      forcats<span class="sc">::</span><span class="fu">fct_inorder</span>()</span>
<span id="cb124-61"><a href="point-cloud-processing-results.html#cb124-61" tabindex="-1"></a>  )</span>
<span id="cb124-62"><a href="point-cloud-processing-results.html#cb124-62" tabindex="-1"></a>  </span>
<span id="cb124-63"><a href="point-cloud-processing-results.html#cb124-63" tabindex="-1"></a><span class="co"># table it</span></span>
<span id="cb124-64"><a href="point-cloud-processing-results.html#cb124-64" tabindex="-1"></a>table_temp <span class="sc">%&gt;%</span> </span>
<span id="cb124-65"><a href="point-cloud-processing-results.html#cb124-65" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(study_site_lab,big_lab,section,mins_lab, perha_lab, pct_lab) <span class="sc">%&gt;%</span> </span>
<span id="cb124-66"><a href="point-cloud-processing-results.html#cb124-66" tabindex="-1"></a>  kableExtra<span class="sc">::</span><span class="fu">kbl</span>(</span>
<span id="cb124-67"><a href="point-cloud-processing-results.html#cb124-67" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">&quot;Point cloud processing section run time&quot;</span></span>
<span id="cb124-68"><a href="point-cloud-processing-results.html#cb124-68" tabindex="-1"></a>    , <span class="at">col.names =</span> <span class="fu">c</span>(</span>
<span id="cb124-69"><a href="point-cloud-processing-results.html#cb124-69" tabindex="-1"></a>      <span class="st">&quot;Site&quot;</span>, <span class="st">&quot;Data&quot;</span></span>
<span id="cb124-70"><a href="point-cloud-processing-results.html#cb124-70" tabindex="-1"></a>      , <span class="st">&quot;Processing section&quot;</span></span>
<span id="cb124-71"><a href="point-cloud-processing-results.html#cb124-71" tabindex="-1"></a>      , <span class="st">&quot;time (minutes)&quot;</span></span>
<span id="cb124-72"><a href="point-cloud-processing-results.html#cb124-72" tabindex="-1"></a>      , <span class="st">&quot;seconds per ha&quot;</span></span>
<span id="cb124-73"><a href="point-cloud-processing-results.html#cb124-73" tabindex="-1"></a>      , <span class="st">&quot;% of total time&quot;</span></span>
<span id="cb124-74"><a href="point-cloud-processing-results.html#cb124-74" tabindex="-1"></a>      )</span>
<span id="cb124-75"><a href="point-cloud-processing-results.html#cb124-75" tabindex="-1"></a>    , <span class="at">escape =</span> F</span>
<span id="cb124-76"><a href="point-cloud-processing-results.html#cb124-76" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb124-77"><a href="point-cloud-processing-results.html#cb124-77" tabindex="-1"></a>  kableExtra<span class="sc">::</span><span class="fu">kable_styling</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb124-78"><a href="point-cloud-processing-results.html#cb124-78" tabindex="-1"></a>  kableExtra<span class="sc">::</span><span class="fu">collapse_rows</span>(<span class="at">columns =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="at">valign =</span> <span class="st">&quot;top&quot;</span>)</span></code></pre></div>
<table class="table" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:unnamed-chunk-139">Table 7.1: </span>Point cloud processing section run time
</caption>
<thead>
<tr>
<th style="text-align:left;">
Site
</th>
<th style="text-align:left;">
Data
</th>
<th style="text-align:left;">
Processing section
</th>
<th style="text-align:left;">
time (minutes)
</th>
<th style="text-align:left;">
seconds per ha
</th>
<th style="text-align:left;">
% of total time
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;vertical-align: top !important;" rowspan="16">
Fort Stewart (GA)
</td>
<td style="text-align:left;vertical-align: top !important;" rowspan="8">
ALS 2018<br>area: 900 ha<br>points: 43.1M<br>points m<sup>-2</sup>: 4.8
</td>
<td style="text-align:left;">
tree extraction
</td>
<td style="text-align:left;">
18.7
</td>
<td style="text-align:left;">
1.25
</td>
<td style="text-align:left;">
10.4%
</td>
</tr>
<tr>
<td style="text-align:left;">
trees DBH
</td>
<td style="text-align:left;">
8.7
</td>
<td style="text-align:left;">
0.58
</td>
<td style="text-align:left;">
4.8%
</td>
</tr>
<tr>
<td style="text-align:left;">
trees CBH
</td>
<td style="text-align:left;">
129.2
</td>
<td style="text-align:left;">
8.62
</td>
<td style="text-align:left;">
71.6%
</td>
</tr>
<tr>
<td style="text-align:left;">
trees type
</td>
<td style="text-align:left;">
0.3
</td>
<td style="text-align:left;">
0.02
</td>
<td style="text-align:left;">
0.2%
</td>
</tr>
<tr>
<td style="text-align:left;">
trees HMD
</td>
<td style="text-align:left;">
13.0
</td>
<td style="text-align:left;">
0.87
</td>
<td style="text-align:left;">
7.2%
</td>
</tr>
<tr>
<td style="text-align:left;">
trees biomass
</td>
<td style="text-align:left;">
7.5
</td>
<td style="text-align:left;">
0.50
</td>
<td style="text-align:left;">
4.2%
</td>
</tr>
<tr>
<td style="text-align:left;">
write data
</td>
<td style="text-align:left;">
3.1
</td>
<td style="text-align:left;">
0.20
</td>
<td style="text-align:left;">
1.7%
</td>
</tr>
<tr>
<td style="text-align:left;">
total
</td>
<td style="text-align:left;">
180.6
</td>
<td style="text-align:left;">
12.04
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;vertical-align: top !important;" rowspan="8">
ALS 2025<br>area: 686 ha<br>points: 340.2M<br>points m<sup>-2</sup>: 49.6
</td>
<td style="text-align:left;">
tree extraction
</td>
<td style="text-align:left;">
134.2
</td>
<td style="text-align:left;">
11.74
</td>
<td style="text-align:left;">
49.4%
</td>
</tr>
<tr>
<td style="text-align:left;">
trees DBH
</td>
<td style="text-align:left;">
11.7
</td>
<td style="text-align:left;">
1.03
</td>
<td style="text-align:left;">
4.3%
</td>
</tr>
<tr>
<td style="text-align:left;">
trees CBH
</td>
<td style="text-align:left;">
109.2
</td>
<td style="text-align:left;">
9.55
</td>
<td style="text-align:left;">
40.2%
</td>
</tr>
<tr>
<td style="text-align:left;">
trees type
</td>
<td style="text-align:left;">
0.2
</td>
<td style="text-align:left;">
0.02
</td>
<td style="text-align:left;">
0.1%
</td>
</tr>
<tr>
<td style="text-align:left;">
trees HMD
</td>
<td style="text-align:left;">
12.0
</td>
<td style="text-align:left;">
1.05
</td>
<td style="text-align:left;">
4.4%
</td>
</tr>
<tr>
<td style="text-align:left;">
trees biomass
</td>
<td style="text-align:left;">
3.1
</td>
<td style="text-align:left;">
0.27
</td>
<td style="text-align:left;">
1.1%
</td>
</tr>
<tr>
<td style="text-align:left;">
write data
</td>
<td style="text-align:left;">
1.2
</td>
<td style="text-align:left;">
0.10
</td>
<td style="text-align:left;">
0.4%
</td>
</tr>
<tr>
<td style="text-align:left;">
total
</td>
<td style="text-align:left;">
271.6
</td>
<td style="text-align:left;">
23.76
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;vertical-align: top !important;" rowspan="16">
Cedar Bridge (NJ)
</td>
<td style="text-align:left;vertical-align: top !important;" rowspan="8">
ALS 2012<br>area: 206 ha<br>points: 80.3M<br>points m<sup>-2</sup>: 38.9
</td>
<td style="text-align:left;">
tree extraction
</td>
<td style="text-align:left;">
23.9
</td>
<td style="text-align:left;">
6.96
</td>
<td style="text-align:left;">
15.7%
</td>
</tr>
<tr>
<td style="text-align:left;">
trees DBH
</td>
<td style="text-align:left;">
5.9
</td>
<td style="text-align:left;">
1.71
</td>
<td style="text-align:left;">
3.9%
</td>
</tr>
<tr>
<td style="text-align:left;">
trees CBH
</td>
<td style="text-align:left;">
115.5
</td>
<td style="text-align:left;">
33.59
</td>
<td style="text-align:left;">
75.9%
</td>
</tr>
<tr>
<td style="text-align:left;">
trees type
</td>
<td style="text-align:left;">
0.1
</td>
<td style="text-align:left;">
0.03
</td>
<td style="text-align:left;">
0.1%
</td>
</tr>
<tr>
<td style="text-align:left;">
trees HMD
</td>
<td style="text-align:left;">
4.8
</td>
<td style="text-align:left;">
1.41
</td>
<td style="text-align:left;">
3.2%
</td>
</tr>
<tr>
<td style="text-align:left;">
trees biomass
</td>
<td style="text-align:left;">
1.1
</td>
<td style="text-align:left;">
0.31
</td>
<td style="text-align:left;">
0.7%
</td>
</tr>
<tr>
<td style="text-align:left;">
write data
</td>
<td style="text-align:left;">
0.8
</td>
<td style="text-align:left;">
0.23
</td>
<td style="text-align:left;">
0.5%
</td>
</tr>
<tr>
<td style="text-align:left;">
total
</td>
<td style="text-align:left;">
152.2
</td>
<td style="text-align:left;">
44.24
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;vertical-align: top !important;" rowspan="8">
UAS LIDAR 2024<br>area: 292 ha<br>points: 758.3M<br>points m<sup>-2</sup>: 259.7
</td>
<td style="text-align:left;">
tree extraction
</td>
<td style="text-align:left;">
664.8
</td>
<td style="text-align:left;">
136.59
</td>
<td style="text-align:left;">
70.5%
</td>
</tr>
<tr>
<td style="text-align:left;">
trees DBH
</td>
<td style="text-align:left;">
7.8
</td>
<td style="text-align:left;">
1.60
</td>
<td style="text-align:left;">
0.8%
</td>
</tr>
<tr>
<td style="text-align:left;">
trees CBH
</td>
<td style="text-align:left;">
237.3
</td>
<td style="text-align:left;">
48.76
</td>
<td style="text-align:left;">
25.2%
</td>
</tr>
<tr>
<td style="text-align:left;">
trees type
</td>
<td style="text-align:left;">
0.5
</td>
<td style="text-align:left;">
0.10
</td>
<td style="text-align:left;">
0.1%
</td>
</tr>
<tr>
<td style="text-align:left;">
trees HMD
</td>
<td style="text-align:left;">
30.3
</td>
<td style="text-align:left;">
6.24
</td>
<td style="text-align:left;">
3.2%
</td>
</tr>
<tr>
<td style="text-align:left;">
trees biomass
</td>
<td style="text-align:left;">
0.5
</td>
<td style="text-align:left;">
0.09
</td>
<td style="text-align:left;">
0.0%
</td>
</tr>
<tr>
<td style="text-align:left;">
write data
</td>
<td style="text-align:left;">
1.2
</td>
<td style="text-align:left;">
0.24
</td>
<td style="text-align:left;">
0.1%
</td>
</tr>
<tr>
<td style="text-align:left;">
total
</td>
<td style="text-align:left;">
942.3
</td>
<td style="text-align:left;">
193.62
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;vertical-align: top !important;" rowspan="16">
Salt Cabin (CO)
</td>
<td style="text-align:left;vertical-align: top !important;" rowspan="8">
ALS 2021<br>area: 534 ha<br>points: 35.2M<br>points m<sup>-2</sup>: 6.6
</td>
<td style="text-align:left;">
tree extraction
</td>
<td style="text-align:left;">
22.6
</td>
<td style="text-align:left;">
2.54
</td>
<td style="text-align:left;">
22.1%
</td>
</tr>
<tr>
<td style="text-align:left;">
trees DBH
</td>
<td style="text-align:left;">
11.5
</td>
<td style="text-align:left;">
1.29
</td>
<td style="text-align:left;">
11.2%
</td>
</tr>
<tr>
<td style="text-align:left;">
trees CBH
</td>
<td style="text-align:left;">
59.1
</td>
<td style="text-align:left;">
6.65
</td>
<td style="text-align:left;">
57.8%
</td>
</tr>
<tr>
<td style="text-align:left;">
trees type
</td>
<td style="text-align:left;">
1.5
</td>
<td style="text-align:left;">
0.17
</td>
<td style="text-align:left;">
1.5%
</td>
</tr>
<tr>
<td style="text-align:left;">
trees HMD
</td>
<td style="text-align:left;">
3.1
</td>
<td style="text-align:left;">
0.35
</td>
<td style="text-align:left;">
3.0%
</td>
</tr>
<tr>
<td style="text-align:left;">
trees biomass
</td>
<td style="text-align:left;">
2.0
</td>
<td style="text-align:left;">
0.22
</td>
<td style="text-align:left;">
1.9%
</td>
</tr>
<tr>
<td style="text-align:left;">
write data
</td>
<td style="text-align:left;">
2.5
</td>
<td style="text-align:left;">
0.28
</td>
<td style="text-align:left;">
2.4%
</td>
</tr>
<tr>
<td style="text-align:left;">
total
</td>
<td style="text-align:left;">
102.3
</td>
<td style="text-align:left;">
11.50
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;vertical-align: top !important;" rowspan="8">
UAS SFM 2024<br>area: 28 ha<br>points: 94.5M<br>points m<sup>-2</sup>: 339.1
</td>
<td style="text-align:left;">
tree extraction
</td>
<td style="text-align:left;">
65.4
</td>
<td style="text-align:left;">
140.77
</td>
<td style="text-align:left;">
79.3%
</td>
</tr>
<tr>
<td style="text-align:left;">
trees DBH
</td>
<td style="text-align:left;">
3.7
</td>
<td style="text-align:left;">
8.04
</td>
<td style="text-align:left;">
4.5%
</td>
</tr>
<tr>
<td style="text-align:left;">
trees CBH
</td>
<td style="text-align:left;">
11.8
</td>
<td style="text-align:left;">
25.33
</td>
<td style="text-align:left;">
14.3%
</td>
</tr>
<tr>
<td style="text-align:left;">
trees type
</td>
<td style="text-align:left;">
0.0
</td>
<td style="text-align:left;">
0.02
</td>
<td style="text-align:left;">
0.0%
</td>
</tr>
<tr>
<td style="text-align:left;">
trees HMD
</td>
<td style="text-align:left;">
1.4
</td>
<td style="text-align:left;">
3.12
</td>
<td style="text-align:left;">
1.8%
</td>
</tr>
<tr>
<td style="text-align:left;">
trees biomass
</td>
<td style="text-align:left;">
0.1
</td>
<td style="text-align:left;">
0.15
</td>
<td style="text-align:left;">
0.1%
</td>
</tr>
<tr>
<td style="text-align:left;">
write data
</td>
<td style="text-align:left;">
0.1
</td>
<td style="text-align:left;">
0.13
</td>
<td style="text-align:left;">
0.1%
</td>
</tr>
<tr>
<td style="text-align:left;">
total
</td>
<td style="text-align:left;">
82.5
</td>
<td style="text-align:left;">
177.56
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;vertical-align: top !important;" rowspan="16">
Sycan Marsh (OR)
</td>
<td style="text-align:left;vertical-align: top !important;" rowspan="8">
ALS 2021<br>area: 200 ha<br>points: 68.0M<br>points m<sup>-2</sup>: 34.0
</td>
<td style="text-align:left;">
tree extraction
</td>
<td style="text-align:left;">
17.8
</td>
<td style="text-align:left;">
5.35
</td>
<td style="text-align:left;">
22.1%
</td>
</tr>
<tr>
<td style="text-align:left;">
trees DBH
</td>
<td style="text-align:left;">
4.4
</td>
<td style="text-align:left;">
1.31
</td>
<td style="text-align:left;">
5.4%
</td>
</tr>
<tr>
<td style="text-align:left;">
trees CBH
</td>
<td style="text-align:left;">
55.0
</td>
<td style="text-align:left;">
16.50
</td>
<td style="text-align:left;">
68.1%
</td>
</tr>
<tr>
<td style="text-align:left;">
trees type
</td>
<td style="text-align:left;">
0.0
</td>
<td style="text-align:left;">
0.01
</td>
<td style="text-align:left;">
0.1%
</td>
</tr>
<tr>
<td style="text-align:left;">
trees HMD
</td>
<td style="text-align:left;">
2.3
</td>
<td style="text-align:left;">
0.68
</td>
<td style="text-align:left;">
2.8%
</td>
</tr>
<tr>
<td style="text-align:left;">
trees biomass
</td>
<td style="text-align:left;">
0.9
</td>
<td style="text-align:left;">
0.27
</td>
<td style="text-align:left;">
1.1%
</td>
</tr>
<tr>
<td style="text-align:left;">
write data
</td>
<td style="text-align:left;">
0.3
</td>
<td style="text-align:left;">
0.10
</td>
<td style="text-align:left;">
0.4%
</td>
</tr>
<tr>
<td style="text-align:left;">
total
</td>
<td style="text-align:left;">
80.8
</td>
<td style="text-align:left;">
24.23
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;vertical-align: top !important;" rowspan="8">
UAS LIDAR 2023<br>area: 53 ha<br>points: 200.5M<br>points m<sup>-2</sup>: 378.3
</td>
<td style="text-align:left;">
tree extraction
</td>
<td style="text-align:left;">
55.9
</td>
<td style="text-align:left;">
63.31
</td>
<td style="text-align:left;">
63.7%
</td>
</tr>
<tr>
<td style="text-align:left;">
trees DBH
</td>
<td style="text-align:left;">
3.1
</td>
<td style="text-align:left;">
3.52
</td>
<td style="text-align:left;">
3.5%
</td>
</tr>
<tr>
<td style="text-align:left;">
trees CBH
</td>
<td style="text-align:left;">
25.1
</td>
<td style="text-align:left;">
28.37
</td>
<td style="text-align:left;">
28.6%
</td>
</tr>
<tr>
<td style="text-align:left;">
trees type
</td>
<td style="text-align:left;">
0.0
</td>
<td style="text-align:left;">
0.01
</td>
<td style="text-align:left;">
0.0%
</td>
</tr>
<tr>
<td style="text-align:left;">
trees HMD
</td>
<td style="text-align:left;">
3.4
</td>
<td style="text-align:left;">
3.85
</td>
<td style="text-align:left;">
3.9%
</td>
</tr>
<tr>
<td style="text-align:left;">
trees biomass
</td>
<td style="text-align:left;">
0.1
</td>
<td style="text-align:left;">
0.13
</td>
<td style="text-align:left;">
0.1%
</td>
</tr>
<tr>
<td style="text-align:left;">
write data
</td>
<td style="text-align:left;">
0.1
</td>
<td style="text-align:left;">
0.13
</td>
<td style="text-align:left;">
0.1%
</td>
</tr>
<tr>
<td style="text-align:left;">
total
</td>
<td style="text-align:left;">
87.8
</td>
<td style="text-align:left;">
99.33
</td>
<td style="text-align:left;">
NA
</td>
</tr>
</tbody>
</table>
<p>that’s a lot of numbers to digest, let’s plot the data</p>
<div id="point-cloud-processing-time-versus-point-density" class="section level3 hasAnchor" number="7.1.1">
<h3><span class="header-section-number">7.1.1</span> Point Cloud Processing Time versus Point Density<a href="point-cloud-processing-results.html#point-cloud-processing-time-versus-point-density" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb125"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb125-1"><a href="point-cloud-processing-results.html#cb125-1" tabindex="-1"></a><span class="co"># per ha time based on point density</span></span>
<span id="cb125-2"><a href="point-cloud-processing-results.html#cb125-2" tabindex="-1"></a>ggplot2<span class="sc">::</span><span class="fu">ggplot</span>(</span>
<span id="cb125-3"><a href="point-cloud-processing-results.html#cb125-3" tabindex="-1"></a>  <span class="at">data =</span> table_temp <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">filter</span>(section <span class="sc">==</span> <span class="st">&quot;total&quot;</span>)</span>
<span id="cb125-4"><a href="point-cloud-processing-results.html#cb125-4" tabindex="-1"></a>  , <span class="at">mapping =</span> ggplot2<span class="sc">::</span><span class="fu">aes</span>(<span class="at">y =</span> secperha, <span class="at">x =</span> points_m2, <span class="at">color =</span> data_type)</span>
<span id="cb125-5"><a href="point-cloud-processing-results.html#cb125-5" tabindex="-1"></a>) <span class="sc">+</span></span>
<span id="cb125-6"><a href="point-cloud-processing-results.html#cb125-6" tabindex="-1"></a>  ggplot2<span class="sc">::</span><span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">4</span>, <span class="at">alpha =</span> <span class="fl">0.9</span>) <span class="sc">+</span></span>
<span id="cb125-7"><a href="point-cloud-processing-results.html#cb125-7" tabindex="-1"></a>  ggplot2<span class="sc">::</span><span class="fu">scale_color_viridis_d</span>(<span class="at">option =</span> <span class="st">&quot;magma&quot;</span>, <span class="at">begin =</span> <span class="fl">0.1</span>, <span class="at">end =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb125-8"><a href="point-cloud-processing-results.html#cb125-8" tabindex="-1"></a>  ggplot2<span class="sc">::</span><span class="fu">labs</span>(</span>
<span id="cb125-9"><a href="point-cloud-processing-results.html#cb125-9" tabindex="-1"></a>    <span class="at">x =</span> latex2exp<span class="sc">::</span><span class="fu">TeX</span>(<span class="st">&quot;points $m^{-2}$&quot;</span>)</span>
<span id="cb125-10"><a href="point-cloud-processing-results.html#cb125-10" tabindex="-1"></a>    , <span class="at">y =</span> latex2exp<span class="sc">::</span><span class="fu">TeX</span>(<span class="st">&quot;total seconds $ha^{-1}$&quot;</span>)</span>
<span id="cb125-11"><a href="point-cloud-processing-results.html#cb125-11" tabindex="-1"></a>    , <span class="at">color =</span> <span class="st">&quot;&quot;</span></span>
<span id="cb125-12"><a href="point-cloud-processing-results.html#cb125-12" tabindex="-1"></a>    , <span class="at">subtitle =</span> <span class="st">&quot;Point Cloud Processing Time versus Point Density&quot;</span></span>
<span id="cb125-13"><a href="point-cloud-processing-results.html#cb125-13" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb125-14"><a href="point-cloud-processing-results.html#cb125-14" tabindex="-1"></a>  ggplot2<span class="sc">::</span><span class="fu">theme_light</span>() <span class="sc">+</span></span>
<span id="cb125-15"><a href="point-cloud-processing-results.html#cb125-15" tabindex="-1"></a>  ggplot2<span class="sc">::</span><span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;top&quot;</span>)</span></code></pre></div>
<p><img src="dod_cloud2trees_demo_files/figure-html/unnamed-chunk-140-1.png" width="1008" /></p>
</div>
<div id="point-cloud-processing-time-by-section" class="section level3 hasAnchor" number="7.1.2">
<h3><span class="header-section-number">7.1.2</span> Point Cloud Processing Time by Section (%)<a href="point-cloud-processing-results.html#point-cloud-processing-time-by-section" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb126-1"><a href="point-cloud-processing-results.html#cb126-1" tabindex="-1"></a>table_temp <span class="sc">%&gt;%</span> </span>
<span id="cb126-2"><a href="point-cloud-processing-results.html#cb126-2" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(section <span class="sc">!=</span> <span class="st">&quot;total&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb126-3"><a href="point-cloud-processing-results.html#cb126-3" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">section =</span> forcats<span class="sc">::</span><span class="fu">fct_rev</span>(section)) <span class="sc">%&gt;%</span> </span>
<span id="cb126-4"><a href="point-cloud-processing-results.html#cb126-4" tabindex="-1"></a>ggplot2<span class="sc">::</span><span class="fu">ggplot</span>(</span>
<span id="cb126-5"><a href="point-cloud-processing-results.html#cb126-5" tabindex="-1"></a>  <span class="at">mapping =</span> ggplot2<span class="sc">::</span><span class="fu">aes</span>(<span class="at">y =</span> big_lab_ggplot, <span class="at">x =</span> pct, <span class="at">fill =</span> section, <span class="at">group =</span> section)</span>
<span id="cb126-6"><a href="point-cloud-processing-results.html#cb126-6" tabindex="-1"></a>) <span class="sc">+</span></span>
<span id="cb126-7"><a href="point-cloud-processing-results.html#cb126-7" tabindex="-1"></a>  ggplot2<span class="sc">::</span><span class="fu">geom_col</span>(</span>
<span id="cb126-8"><a href="point-cloud-processing-results.html#cb126-8" tabindex="-1"></a>    <span class="at">width =</span> <span class="fl">0.7</span>, <span class="at">alpha=</span><span class="fl">0.8</span></span>
<span id="cb126-9"><a href="point-cloud-processing-results.html#cb126-9" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb126-10"><a href="point-cloud-processing-results.html#cb126-10" tabindex="-1"></a>  ggplot2<span class="sc">::</span><span class="fu">geom_text</span>(</span>
<span id="cb126-11"><a href="point-cloud-processing-results.html#cb126-11" tabindex="-1"></a>    <span class="at">mapping =</span> ggplot2<span class="sc">::</span><span class="fu">aes</span>(</span>
<span id="cb126-12"><a href="point-cloud-processing-results.html#cb126-12" tabindex="-1"></a>        <span class="at">label =</span> scales<span class="sc">::</span><span class="fu">percent</span>(<span class="fu">ifelse</span>(pct<span class="sc">&gt;=</span><span class="fl">0.06</span>,pct,<span class="cn">NA</span>), <span class="at">accuracy =</span> <span class="dv">1</span>)</span>
<span id="cb126-13"><a href="point-cloud-processing-results.html#cb126-13" tabindex="-1"></a>        , <span class="at">fontface =</span> <span class="st">&quot;bold&quot;</span></span>
<span id="cb126-14"><a href="point-cloud-processing-results.html#cb126-14" tabindex="-1"></a>      )</span>
<span id="cb126-15"><a href="point-cloud-processing-results.html#cb126-15" tabindex="-1"></a>    , <span class="at">position =</span> ggplot2<span class="sc">::</span><span class="fu">position_stack</span>(<span class="at">vjust =</span> <span class="fl">0.5</span>)</span>
<span id="cb126-16"><a href="point-cloud-processing-results.html#cb126-16" tabindex="-1"></a>    , <span class="at">color =</span> <span class="st">&quot;black&quot;</span>, <span class="at">size =</span> <span class="dv">4</span></span>
<span id="cb126-17"><a href="point-cloud-processing-results.html#cb126-17" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb126-18"><a href="point-cloud-processing-results.html#cb126-18" tabindex="-1"></a>  ggplot2<span class="sc">::</span><span class="fu">facet_wrap</span>(<span class="at">facets =</span> dplyr<span class="sc">::</span><span class="fu">vars</span>(study_site_lab), <span class="at">scales =</span> <span class="st">&quot;free_y&quot;</span>) <span class="sc">+</span> </span>
<span id="cb126-19"><a href="point-cloud-processing-results.html#cb126-19" tabindex="-1"></a>  ggplot2<span class="sc">::</span><span class="fu">scale_fill_viridis_d</span>(<span class="at">option =</span> <span class="st">&quot;turbo&quot;</span>, <span class="at">begin =</span> <span class="fl">0.1</span>, <span class="at">end =</span> <span class="fl">0.9</span>) <span class="sc">+</span></span>
<span id="cb126-20"><a href="point-cloud-processing-results.html#cb126-20" tabindex="-1"></a>  ggplot2<span class="sc">::</span><span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">percent_format</span>()) <span class="sc">+</span></span>
<span id="cb126-21"><a href="point-cloud-processing-results.html#cb126-21" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb126-22"><a href="point-cloud-processing-results.html#cb126-22" tabindex="-1"></a>    <span class="at">fill =</span> <span class="st">&quot;&quot;</span>, <span class="at">y =</span> <span class="st">&quot;&quot;</span></span>
<span id="cb126-23"><a href="point-cloud-processing-results.html#cb126-23" tabindex="-1"></a>    , <span class="at">x =</span> <span class="st">&quot;% Point Cloud Total Processing Time&quot;</span></span>
<span id="cb126-24"><a href="point-cloud-processing-results.html#cb126-24" tabindex="-1"></a>    , <span class="at">subtitle =</span> <span class="st">&quot;Point Cloud Processing Time by Section&quot;</span></span>
<span id="cb126-25"><a href="point-cloud-processing-results.html#cb126-25" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb126-26"><a href="point-cloud-processing-results.html#cb126-26" tabindex="-1"></a>  <span class="fu">theme_light</span>() <span class="sc">+</span></span>
<span id="cb126-27"><a href="point-cloud-processing-results.html#cb126-27" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb126-28"><a href="point-cloud-processing-results.html#cb126-28" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">&quot;top&quot;</span></span>
<span id="cb126-29"><a href="point-cloud-processing-results.html#cb126-29" tabindex="-1"></a>    , <span class="at">legend.direction  =</span> <span class="st">&quot;horizontal&quot;</span></span>
<span id="cb126-30"><a href="point-cloud-processing-results.html#cb126-30" tabindex="-1"></a>    , <span class="at">legend.title =</span> <span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">7</span>)</span>
<span id="cb126-31"><a href="point-cloud-processing-results.html#cb126-31" tabindex="-1"></a>    , <span class="at">axis.title.x =</span> <span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">10</span>, <span class="at">face =</span> <span class="st">&quot;bold&quot;</span>)</span>
<span id="cb126-32"><a href="point-cloud-processing-results.html#cb126-32" tabindex="-1"></a>    , <span class="at">axis.title.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">8</span>)</span>
<span id="cb126-33"><a href="point-cloud-processing-results.html#cb126-33" tabindex="-1"></a>    , <span class="at">axis.text.x =</span> <span class="fu">element_blank</span>()</span>
<span id="cb126-34"><a href="point-cloud-processing-results.html#cb126-34" tabindex="-1"></a>    , <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">color =</span> <span class="st">&quot;black&quot;</span>,<span class="at">size=</span><span class="dv">10</span>, <span class="at">face =</span> <span class="st">&quot;bold&quot;</span>)</span>
<span id="cb126-35"><a href="point-cloud-processing-results.html#cb126-35" tabindex="-1"></a>    , <span class="at">axis.ticks.x =</span> <span class="fu">element_blank</span>()</span>
<span id="cb126-36"><a href="point-cloud-processing-results.html#cb126-36" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb126-37"><a href="point-cloud-processing-results.html#cb126-37" tabindex="-1"></a>  <span class="fu">guides</span>(</span>
<span id="cb126-38"><a href="point-cloud-processing-results.html#cb126-38" tabindex="-1"></a>    <span class="at">fill =</span> <span class="fu">guide_legend</span>(<span class="at">nrow =</span> <span class="dv">3</span>, <span class="at">byrow =</span> T, <span class="at">reverse =</span> T, <span class="at">override.aes =</span> <span class="fu">list</span>(<span class="at">alpha =</span> <span class="fl">0.9</span>))</span>
<span id="cb126-39"><a href="point-cloud-processing-results.html#cb126-39" tabindex="-1"></a>  )</span></code></pre></div>
<p><img src="dod_cloud2trees_demo_files/figure-html/unnamed-chunk-141-1.png" width="1008" /></p>
</div>
<div id="point-cloud-processing-time-by-section-total" class="section level3 hasAnchor" number="7.1.3">
<h3><span class="header-section-number">7.1.3</span> Point Cloud Processing Time by Section (total)<a href="point-cloud-processing-results.html#point-cloud-processing-time-by-section-total" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb127"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb127-1"><a href="point-cloud-processing-results.html#cb127-1" tabindex="-1"></a> table_temp <span class="sc">%&gt;%</span> </span>
<span id="cb127-2"><a href="point-cloud-processing-results.html#cb127-2" tabindex="-1"></a>   dplyr<span class="sc">::</span><span class="fu">filter</span>(section <span class="sc">!=</span> <span class="st">&quot;total&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb127-3"><a href="point-cloud-processing-results.html#cb127-3" tabindex="-1"></a>   dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">section =</span> forcats<span class="sc">::</span><span class="fu">fct_rev</span>(section)) <span class="sc">%&gt;%</span> </span>
<span id="cb127-4"><a href="point-cloud-processing-results.html#cb127-4" tabindex="-1"></a> ggplot2<span class="sc">::</span><span class="fu">ggplot</span>(</span>
<span id="cb127-5"><a href="point-cloud-processing-results.html#cb127-5" tabindex="-1"></a>   <span class="at">mapping =</span> ggplot2<span class="sc">::</span><span class="fu">aes</span>(<span class="at">y =</span> big_lab_ggplot, <span class="at">x =</span> secperha, <span class="at">fill =</span> section, <span class="at">group =</span> section)</span>
<span id="cb127-6"><a href="point-cloud-processing-results.html#cb127-6" tabindex="-1"></a> ) <span class="sc">+</span></span>
<span id="cb127-7"><a href="point-cloud-processing-results.html#cb127-7" tabindex="-1"></a>  <span class="fu">geom_text</span>(</span>
<span id="cb127-8"><a href="point-cloud-processing-results.html#cb127-8" tabindex="-1"></a>    <span class="at">data =</span> table_temp <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">filter</span>(section <span class="sc">==</span> <span class="st">&quot;total&quot;</span>)</span>
<span id="cb127-9"><a href="point-cloud-processing-results.html#cb127-9" tabindex="-1"></a>    , <span class="at">mapping =</span> ggplot2<span class="sc">::</span><span class="fu">aes</span>(</span>
<span id="cb127-10"><a href="point-cloud-processing-results.html#cb127-10" tabindex="-1"></a>      <span class="at">y =</span> big_lab_ggplot</span>
<span id="cb127-11"><a href="point-cloud-processing-results.html#cb127-11" tabindex="-1"></a>      , <span class="at">x =</span> secperha</span>
<span id="cb127-12"><a href="point-cloud-processing-results.html#cb127-12" tabindex="-1"></a>      , <span class="at">label =</span> scales<span class="sc">::</span><span class="fu">comma</span>(secperha,<span class="at">accuracy=</span><span class="fl">0.1</span>,<span class="at">suffix =</span> <span class="st">&quot;</span><span class="sc">\n</span><span class="st">total&quot;</span>)</span>
<span id="cb127-13"><a href="point-cloud-processing-results.html#cb127-13" tabindex="-1"></a>      , <span class="at">fontface =</span> <span class="st">&quot;bold&quot;</span></span>
<span id="cb127-14"><a href="point-cloud-processing-results.html#cb127-14" tabindex="-1"></a>    )</span>
<span id="cb127-15"><a href="point-cloud-processing-results.html#cb127-15" tabindex="-1"></a>    , <span class="at">color =</span> <span class="st">&quot;black&quot;</span>, <span class="at">size =</span> <span class="fl">2.3</span></span>
<span id="cb127-16"><a href="point-cloud-processing-results.html#cb127-16" tabindex="-1"></a>    , <span class="at">hjust =</span> <span class="sc">-</span><span class="fl">0.1</span></span>
<span id="cb127-17"><a href="point-cloud-processing-results.html#cb127-17" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb127-18"><a href="point-cloud-processing-results.html#cb127-18" tabindex="-1"></a>   ggplot2<span class="sc">::</span><span class="fu">geom_col</span>(</span>
<span id="cb127-19"><a href="point-cloud-processing-results.html#cb127-19" tabindex="-1"></a>     <span class="at">width =</span> <span class="fl">0.7</span>, <span class="at">alpha=</span><span class="fl">0.8</span></span>
<span id="cb127-20"><a href="point-cloud-processing-results.html#cb127-20" tabindex="-1"></a>   ) <span class="sc">+</span></span>
<span id="cb127-21"><a href="point-cloud-processing-results.html#cb127-21" tabindex="-1"></a>   ggplot2<span class="sc">::</span><span class="fu">geom_text</span>(</span>
<span id="cb127-22"><a href="point-cloud-processing-results.html#cb127-22" tabindex="-1"></a>     <span class="at">mapping =</span> ggplot2<span class="sc">::</span><span class="fu">aes</span>(</span>
<span id="cb127-23"><a href="point-cloud-processing-results.html#cb127-23" tabindex="-1"></a>         <span class="at">label =</span> scales<span class="sc">::</span><span class="fu">comma</span>(<span class="fu">ifelse</span>(secperha<span class="sc">&gt;=</span><span class="fl">7.5</span>,secperha,<span class="cn">NA</span>), <span class="at">accuracy =</span> <span class="fl">0.1</span>)</span>
<span id="cb127-24"><a href="point-cloud-processing-results.html#cb127-24" tabindex="-1"></a>         , <span class="at">fontface =</span> <span class="st">&quot;bold&quot;</span></span>
<span id="cb127-25"><a href="point-cloud-processing-results.html#cb127-25" tabindex="-1"></a>       )</span>
<span id="cb127-26"><a href="point-cloud-processing-results.html#cb127-26" tabindex="-1"></a>     , <span class="at">position =</span> ggplot2<span class="sc">::</span><span class="fu">position_stack</span>(<span class="at">vjust =</span> <span class="fl">0.5</span>)</span>
<span id="cb127-27"><a href="point-cloud-processing-results.html#cb127-27" tabindex="-1"></a>     , <span class="at">color =</span> <span class="st">&quot;black&quot;</span>, <span class="at">size =</span> <span class="dv">3</span></span>
<span id="cb127-28"><a href="point-cloud-processing-results.html#cb127-28" tabindex="-1"></a>   ) <span class="sc">+</span></span>
<span id="cb127-29"><a href="point-cloud-processing-results.html#cb127-29" tabindex="-1"></a>   ggplot2<span class="sc">::</span><span class="fu">facet_wrap</span>(<span class="at">facets =</span> dplyr<span class="sc">::</span><span class="fu">vars</span>(study_site_lab), <span class="at">scales =</span> <span class="st">&quot;free_y&quot;</span>) <span class="sc">+</span> </span>
<span id="cb127-30"><a href="point-cloud-processing-results.html#cb127-30" tabindex="-1"></a>   ggplot2<span class="sc">::</span><span class="fu">scale_fill_viridis_d</span>(<span class="at">option =</span> <span class="st">&quot;turbo&quot;</span>, <span class="at">begin =</span> <span class="fl">0.1</span>, <span class="at">end =</span> <span class="fl">0.9</span>) <span class="sc">+</span></span>
<span id="cb127-31"><a href="point-cloud-processing-results.html#cb127-31" tabindex="-1"></a>   ggplot2<span class="sc">::</span><span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">comma_format</span>(), <span class="at">expand =</span> ggplot2<span class="sc">::</span><span class="fu">expansion</span>(<span class="at">mult =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="fl">0.1</span>))) <span class="sc">+</span></span>
<span id="cb127-32"><a href="point-cloud-processing-results.html#cb127-32" tabindex="-1"></a>   <span class="fu">labs</span>(</span>
<span id="cb127-33"><a href="point-cloud-processing-results.html#cb127-33" tabindex="-1"></a>     <span class="at">fill =</span> <span class="st">&quot;&quot;</span>, <span class="at">y =</span> <span class="st">&quot;&quot;</span></span>
<span id="cb127-34"><a href="point-cloud-processing-results.html#cb127-34" tabindex="-1"></a>     , <span class="at">x =</span> latex2exp<span class="sc">::</span><span class="fu">TeX</span>(<span class="st">&quot;seconds $ha^{-1}$&quot;</span>)</span>
<span id="cb127-35"><a href="point-cloud-processing-results.html#cb127-35" tabindex="-1"></a>     , <span class="at">subtitle =</span> <span class="st">&quot;Point Cloud Processing Time by Section&quot;</span></span>
<span id="cb127-36"><a href="point-cloud-processing-results.html#cb127-36" tabindex="-1"></a>   ) <span class="sc">+</span></span>
<span id="cb127-37"><a href="point-cloud-processing-results.html#cb127-37" tabindex="-1"></a>   <span class="fu">theme_light</span>() <span class="sc">+</span></span>
<span id="cb127-38"><a href="point-cloud-processing-results.html#cb127-38" tabindex="-1"></a>   <span class="fu">theme</span>(</span>
<span id="cb127-39"><a href="point-cloud-processing-results.html#cb127-39" tabindex="-1"></a>     <span class="at">legend.position =</span> <span class="st">&quot;top&quot;</span></span>
<span id="cb127-40"><a href="point-cloud-processing-results.html#cb127-40" tabindex="-1"></a>     , <span class="at">legend.direction  =</span> <span class="st">&quot;horizontal&quot;</span></span>
<span id="cb127-41"><a href="point-cloud-processing-results.html#cb127-41" tabindex="-1"></a>     , <span class="at">legend.title =</span> <span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">7</span>)</span>
<span id="cb127-42"><a href="point-cloud-processing-results.html#cb127-42" tabindex="-1"></a>     , <span class="at">axis.title.x =</span> <span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">10</span>, <span class="at">face =</span> <span class="st">&quot;bold&quot;</span>)</span>
<span id="cb127-43"><a href="point-cloud-processing-results.html#cb127-43" tabindex="-1"></a>     , <span class="at">axis.title.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">8</span>)</span>
<span id="cb127-44"><a href="point-cloud-processing-results.html#cb127-44" tabindex="-1"></a>     , <span class="at">axis.text.x =</span> <span class="fu">element_blank</span>()</span>
<span id="cb127-45"><a href="point-cloud-processing-results.html#cb127-45" tabindex="-1"></a>     , <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">color =</span> <span class="st">&quot;black&quot;</span>,<span class="at">size=</span><span class="dv">10</span>, <span class="at">face =</span> <span class="st">&quot;bold&quot;</span>)</span>
<span id="cb127-46"><a href="point-cloud-processing-results.html#cb127-46" tabindex="-1"></a>     , <span class="at">axis.ticks.x =</span> <span class="fu">element_blank</span>()</span>
<span id="cb127-47"><a href="point-cloud-processing-results.html#cb127-47" tabindex="-1"></a>   ) <span class="sc">+</span></span>
<span id="cb127-48"><a href="point-cloud-processing-results.html#cb127-48" tabindex="-1"></a>   <span class="fu">guides</span>(</span>
<span id="cb127-49"><a href="point-cloud-processing-results.html#cb127-49" tabindex="-1"></a>     <span class="at">fill =</span> <span class="fu">guide_legend</span>(<span class="at">nrow =</span> <span class="dv">3</span>, <span class="at">byrow =</span> T, <span class="at">reverse =</span> T, <span class="at">override.aes =</span> <span class="fu">list</span>(<span class="at">alpha =</span> <span class="fl">0.9</span>))</span>
<span id="cb127-50"><a href="point-cloud-processing-results.html#cb127-50" tabindex="-1"></a>   )</span></code></pre></div>
<p><img src="dod_cloud2trees_demo_files/figure-html/unnamed-chunk-142-1.png" width="1008" /></p>
</div>
</div>
<div id="silvicultural-metrics" class="section level2 hasAnchor" number="7.2">
<h2><span class="header-section-number">7.2</span> Silvicultural Metrics<a href="point-cloud-processing-results.html#silvicultural-metrics" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><code>cloud2trees</code> has some internal functions to identify <code>cloud2trees::cloud2trees()</code> outputs, read the outputs, and crop them to a given AOI, however, these are internal to the program (for now). We can use <code>cloud2trees::cloud2trees_to_lanl_trees()</code> (detailed in the <a href="lanl_trees.html#lanl_trees">next section</a>) to access this functionality since all we need to do is clip the tree list which we can then aggregate to get common silvicultural metrics</p>
<div id="example" class="section level3 hasAnchor" number="7.2.1">
<h3><span class="header-section-number">7.2.1</span> Example<a href="point-cloud-processing-results.html#example" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>here is an example to show the data we’ll get back from the <code>calc_silv_metrics()</code> function we define below</p>
<div class="sourceCode" id="cb128"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb128-1"><a href="point-cloud-processing-results.html#cb128-1" tabindex="-1"></a><span class="co"># here&#39;s an example</span></span>
<span id="cb128-2"><a href="point-cloud-processing-results.html#cb128-2" tabindex="-1"></a><span class="co"># study_sites_processing_sf %&gt;% dplyr::slice(6) %&gt;% dplyr::glimpse()</span></span>
<span id="cb128-3"><a href="point-cloud-processing-results.html#cb128-3" tabindex="-1"></a><span class="co"># using the internal fn&#39;s would be: read_trees_flist() %&gt;% clip_tree_list_aoi()</span></span>
<span id="cb128-4"><a href="point-cloud-processing-results.html#cb128-4" tabindex="-1"></a>ans_temp <span class="ot">&lt;-</span> cloud2trees<span class="sc">::</span><span class="fu">cloud2trees_to_lanl_trees</span>(</span>
<span id="cb128-5"><a href="point-cloud-processing-results.html#cb128-5" tabindex="-1"></a>  <span class="at">input_dir =</span> study_sites_processing_sf<span class="sc">$</span>fdir[<span class="dv">6</span>]</span>
<span id="cb128-6"><a href="point-cloud-processing-results.html#cb128-6" tabindex="-1"></a>  , <span class="at">study_boundary =</span> study_sites_processing_sf <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">slice</span>(<span class="dv">6</span>)</span>
<span id="cb128-7"><a href="point-cloud-processing-results.html#cb128-7" tabindex="-1"></a>  , <span class="at">bbox_aoi =</span> F, <span class="at">buffer =</span> <span class="dv">0</span> <span class="co"># this is the key to get only trees in our AOI</span></span>
<span id="cb128-8"><a href="point-cloud-processing-results.html#cb128-8" tabindex="-1"></a>)</span>
<span id="cb128-9"><a href="point-cloud-processing-results.html#cb128-9" tabindex="-1"></a><span class="co"># ans_temp %&gt;% names()</span></span></code></pre></div>
<p>let’s make a function to summarize the data and create common silvicultural metrics within our stand boundary</p>
<div class="sourceCode" id="cb129"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb129-1"><a href="point-cloud-processing-results.html#cb129-1" tabindex="-1"></a><span class="do">###################################################################################</span></span>
<span id="cb129-2"><a href="point-cloud-processing-results.html#cb129-2" tabindex="-1"></a><span class="co"># define a function to convert columns in data frame from metric to imperial</span></span>
<span id="cb129-3"><a href="point-cloud-processing-results.html#cb129-3" tabindex="-1"></a><span class="co"># see: </span></span>
<span id="cb129-4"><a href="point-cloud-processing-results.html#cb129-4" tabindex="-1"></a><span class="co"># https://www.forestnb.com/archives/forest-nb-news/resources/conversions/</span></span>
<span id="cb129-5"><a href="point-cloud-processing-results.html#cb129-5" tabindex="-1"></a><span class="co"># https://www.ars.usda.gov/is/np/agbyproducts/agbyappendix.pdf</span></span>
<span id="cb129-6"><a href="point-cloud-processing-results.html#cb129-6" tabindex="-1"></a><span class="do">###################################################################################</span></span>
<span id="cb129-7"><a href="point-cloud-processing-results.html#cb129-7" tabindex="-1"></a>calc_imperial_units_fn <span class="ot">&lt;-</span> <span class="cf">function</span>(df) {</span>
<span id="cb129-8"><a href="point-cloud-processing-results.html#cb129-8" tabindex="-1"></a>  df <span class="sc">%&gt;%</span> </span>
<span id="cb129-9"><a href="point-cloud-processing-results.html#cb129-9" tabindex="-1"></a>  <span class="co"># convert to imperial units</span></span>
<span id="cb129-10"><a href="point-cloud-processing-results.html#cb129-10" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb129-11"><a href="point-cloud-processing-results.html#cb129-11" tabindex="-1"></a>      dplyr<span class="sc">::</span><span class="fu">across</span>(</span>
<span id="cb129-12"><a href="point-cloud-processing-results.html#cb129-12" tabindex="-1"></a>        <span class="at">.cols =</span> tidyselect<span class="sc">::</span><span class="fu">ends_with</span>(<span class="st">&quot;_cm&quot;</span>)</span>
<span id="cb129-13"><a href="point-cloud-processing-results.html#cb129-13" tabindex="-1"></a>        , <span class="sc">~</span> .x <span class="sc">*</span> <span class="fl">0.394</span></span>
<span id="cb129-14"><a href="point-cloud-processing-results.html#cb129-14" tabindex="-1"></a>        , <span class="at">.names =</span> <span class="st">&quot;{.col}_in&quot;</span></span>
<span id="cb129-15"><a href="point-cloud-processing-results.html#cb129-15" tabindex="-1"></a>      )</span>
<span id="cb129-16"><a href="point-cloud-processing-results.html#cb129-16" tabindex="-1"></a>      , dplyr<span class="sc">::</span><span class="fu">across</span>(</span>
<span id="cb129-17"><a href="point-cloud-processing-results.html#cb129-17" tabindex="-1"></a>        <span class="at">.cols =</span> tidyselect<span class="sc">::</span><span class="fu">ends_with</span>(<span class="st">&quot;_m&quot;</span>)</span>
<span id="cb129-18"><a href="point-cloud-processing-results.html#cb129-18" tabindex="-1"></a>        , <span class="sc">~</span> .x <span class="sc">*</span> <span class="fl">3.281</span></span>
<span id="cb129-19"><a href="point-cloud-processing-results.html#cb129-19" tabindex="-1"></a>        , <span class="at">.names =</span> <span class="st">&quot;{.col}_ft&quot;</span></span>
<span id="cb129-20"><a href="point-cloud-processing-results.html#cb129-20" tabindex="-1"></a>      )</span>
<span id="cb129-21"><a href="point-cloud-processing-results.html#cb129-21" tabindex="-1"></a>      , dplyr<span class="sc">::</span><span class="fu">across</span>(</span>
<span id="cb129-22"><a href="point-cloud-processing-results.html#cb129-22" tabindex="-1"></a>        <span class="at">.cols =</span> tidyselect<span class="sc">::</span><span class="fu">ends_with</span>(<span class="st">&quot;_m2_per_ha&quot;</span>)</span>
<span id="cb129-23"><a href="point-cloud-processing-results.html#cb129-23" tabindex="-1"></a>        , <span class="sc">~</span> .x <span class="sc">*</span> <span class="fl">4.359</span></span>
<span id="cb129-24"><a href="point-cloud-processing-results.html#cb129-24" tabindex="-1"></a>        , <span class="at">.names =</span> <span class="st">&quot;{.col}_ftac&quot;</span></span>
<span id="cb129-25"><a href="point-cloud-processing-results.html#cb129-25" tabindex="-1"></a>      )</span>
<span id="cb129-26"><a href="point-cloud-processing-results.html#cb129-26" tabindex="-1"></a>      , dplyr<span class="sc">::</span><span class="fu">across</span>(</span>
<span id="cb129-27"><a href="point-cloud-processing-results.html#cb129-27" tabindex="-1"></a>        <span class="at">.cols =</span> tidyselect<span class="sc">::</span><span class="fu">ends_with</span>(<span class="st">&quot;_kg_per_ha&quot;</span>)</span>
<span id="cb129-28"><a href="point-cloud-processing-results.html#cb129-28" tabindex="-1"></a>        , <span class="sc">~</span> .x <span class="sc">*</span> <span class="fl">0.892178</span></span>
<span id="cb129-29"><a href="point-cloud-processing-results.html#cb129-29" tabindex="-1"></a>        , <span class="at">.names =</span> <span class="st">&quot;{.col}_lbsac&quot;</span></span>
<span id="cb129-30"><a href="point-cloud-processing-results.html#cb129-30" tabindex="-1"></a>      )</span>
<span id="cb129-31"><a href="point-cloud-processing-results.html#cb129-31" tabindex="-1"></a>      , dplyr<span class="sc">::</span><span class="fu">across</span>(</span>
<span id="cb129-32"><a href="point-cloud-processing-results.html#cb129-32" tabindex="-1"></a>        <span class="at">.cols =</span> tidyselect<span class="sc">::</span><span class="fu">ends_with</span>(<span class="st">&quot;_per_ha&quot;</span>) <span class="sc">&amp;</span> </span>
<span id="cb129-33"><a href="point-cloud-processing-results.html#cb129-33" tabindex="-1"></a>          <span class="sc">!</span>tidyselect<span class="sc">::</span><span class="fu">ends_with</span>(<span class="st">&quot;_m2_per_ha&quot;</span>) <span class="sc">&amp;</span> </span>
<span id="cb129-34"><a href="point-cloud-processing-results.html#cb129-34" tabindex="-1"></a>          <span class="sc">!</span>tidyselect<span class="sc">::</span><span class="fu">ends_with</span>(<span class="st">&quot;_kg_per_ha&quot;</span>)</span>
<span id="cb129-35"><a href="point-cloud-processing-results.html#cb129-35" tabindex="-1"></a>        , <span class="sc">~</span> .x <span class="sc">*</span> <span class="fl">0.405</span></span>
<span id="cb129-36"><a href="point-cloud-processing-results.html#cb129-36" tabindex="-1"></a>        , <span class="at">.names =</span> <span class="st">&quot;{.col}_ac&quot;</span></span>
<span id="cb129-37"><a href="point-cloud-processing-results.html#cb129-37" tabindex="-1"></a>      )</span>
<span id="cb129-38"><a href="point-cloud-processing-results.html#cb129-38" tabindex="-1"></a>      , dplyr<span class="sc">::</span><span class="fu">across</span>(</span>
<span id="cb129-39"><a href="point-cloud-processing-results.html#cb129-39" tabindex="-1"></a>        <span class="at">.cols =</span> tidyselect<span class="sc">::</span><span class="fu">ends_with</span>(<span class="st">&quot;_area_ha&quot;</span>)</span>
<span id="cb129-40"><a href="point-cloud-processing-results.html#cb129-40" tabindex="-1"></a>        , <span class="sc">~</span> .x <span class="sc">*</span> <span class="fl">2.471</span></span>
<span id="cb129-41"><a href="point-cloud-processing-results.html#cb129-41" tabindex="-1"></a>        , <span class="at">.names =</span> <span class="st">&quot;{.col}_ac&quot;</span></span>
<span id="cb129-42"><a href="point-cloud-processing-results.html#cb129-42" tabindex="-1"></a>      )</span>
<span id="cb129-43"><a href="point-cloud-processing-results.html#cb129-43" tabindex="-1"></a>      , dplyr<span class="sc">::</span><span class="fu">across</span>(</span>
<span id="cb129-44"><a href="point-cloud-processing-results.html#cb129-44" tabindex="-1"></a>        <span class="at">.cols =</span> tidyselect<span class="sc">::</span><span class="fu">ends_with</span>(<span class="st">&quot;kg_per_m2&quot;</span>)</span>
<span id="cb129-45"><a href="point-cloud-processing-results.html#cb129-45" tabindex="-1"></a>        , <span class="sc">~</span> .x <span class="sc">*</span> <span class="fl">0.20482</span></span>
<span id="cb129-46"><a href="point-cloud-processing-results.html#cb129-46" tabindex="-1"></a>        , <span class="at">.names =</span> <span class="st">&quot;{.col}_lbsft2&quot;</span></span>
<span id="cb129-47"><a href="point-cloud-processing-results.html#cb129-47" tabindex="-1"></a>      )</span>
<span id="cb129-48"><a href="point-cloud-processing-results.html#cb129-48" tabindex="-1"></a>      , dplyr<span class="sc">::</span><span class="fu">across</span>(</span>
<span id="cb129-49"><a href="point-cloud-processing-results.html#cb129-49" tabindex="-1"></a>        <span class="at">.cols =</span> tidyselect<span class="sc">::</span><span class="fu">ends_with</span>(<span class="st">&quot;kg_per_m3&quot;</span>)</span>
<span id="cb129-50"><a href="point-cloud-processing-results.html#cb129-50" tabindex="-1"></a>        , <span class="sc">~</span> .x <span class="sc">*</span> <span class="fl">0.0624</span></span>
<span id="cb129-51"><a href="point-cloud-processing-results.html#cb129-51" tabindex="-1"></a>        , <span class="at">.names =</span> <span class="st">&quot;{.col}_lbsft3&quot;</span></span>
<span id="cb129-52"><a href="point-cloud-processing-results.html#cb129-52" tabindex="-1"></a>      )</span>
<span id="cb129-53"><a href="point-cloud-processing-results.html#cb129-53" tabindex="-1"></a>      , dplyr<span class="sc">::</span><span class="fu">across</span>(</span>
<span id="cb129-54"><a href="point-cloud-processing-results.html#cb129-54" tabindex="-1"></a>        <span class="at">.cols =</span> tidyselect<span class="sc">::</span><span class="fu">ends_with</span>(<span class="st">&quot;_m2&quot;</span>) <span class="sc">&amp;</span> <span class="sc">!</span>tidyselect<span class="sc">::</span><span class="fu">ends_with</span>(<span class="st">&quot;per_m2&quot;</span>)</span>
<span id="cb129-55"><a href="point-cloud-processing-results.html#cb129-55" tabindex="-1"></a>        , <span class="sc">~</span> .x <span class="sc">*</span> <span class="fl">10.764</span></span>
<span id="cb129-56"><a href="point-cloud-processing-results.html#cb129-56" tabindex="-1"></a>        , <span class="at">.names =</span> <span class="st">&quot;{.col}_ft2&quot;</span></span>
<span id="cb129-57"><a href="point-cloud-processing-results.html#cb129-57" tabindex="-1"></a>      )</span>
<span id="cb129-58"><a href="point-cloud-processing-results.html#cb129-58" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb129-59"><a href="point-cloud-processing-results.html#cb129-59" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">rename_with</span>(</span>
<span id="cb129-60"><a href="point-cloud-processing-results.html#cb129-60" tabindex="-1"></a>      <span class="at">.fn =</span> <span class="cf">function</span>(x){dplyr<span class="sc">::</span><span class="fu">case_when</span>(</span>
<span id="cb129-61"><a href="point-cloud-processing-results.html#cb129-61" tabindex="-1"></a>        stringr<span class="sc">::</span><span class="fu">str_ends</span>(x,<span class="st">&quot;_cm_in&quot;</span>) <span class="sc">~</span> stringr<span class="sc">::</span><span class="fu">str_replace</span>(x,<span class="st">&quot;_cm_in&quot;</span>,<span class="st">&quot;_in&quot;</span>)</span>
<span id="cb129-62"><a href="point-cloud-processing-results.html#cb129-62" tabindex="-1"></a>        , stringr<span class="sc">::</span><span class="fu">str_ends</span>(x,<span class="st">&quot;_m_ft&quot;</span>) <span class="sc">~</span> stringr<span class="sc">::</span><span class="fu">str_replace</span>(x,<span class="st">&quot;_m_ft&quot;</span>,<span class="st">&quot;_ft&quot;</span>)</span>
<span id="cb129-63"><a href="point-cloud-processing-results.html#cb129-63" tabindex="-1"></a>        , stringr<span class="sc">::</span><span class="fu">str_ends</span>(x,<span class="st">&quot;_m2_per_ha_ftac&quot;</span>) <span class="sc">~</span> stringr<span class="sc">::</span><span class="fu">str_replace</span>(x,<span class="st">&quot;_m2_per_ha_ftac&quot;</span>,<span class="st">&quot;_ft2_per_ac&quot;</span>)</span>
<span id="cb129-64"><a href="point-cloud-processing-results.html#cb129-64" tabindex="-1"></a>        , stringr<span class="sc">::</span><span class="fu">str_ends</span>(x,<span class="st">&quot;_kg_per_ha_lbsac&quot;</span>) <span class="sc">~</span> stringr<span class="sc">::</span><span class="fu">str_replace</span>(x,<span class="st">&quot;_kg_per_ha_lbsac&quot;</span>,<span class="st">&quot;_lbs_per_ac&quot;</span>)</span>
<span id="cb129-65"><a href="point-cloud-processing-results.html#cb129-65" tabindex="-1"></a>        , stringr<span class="sc">::</span><span class="fu">str_ends</span>(x,<span class="st">&quot;_per_ha_ac&quot;</span>) <span class="sc">~</span> stringr<span class="sc">::</span><span class="fu">str_replace</span>(x,<span class="st">&quot;_per_ha_ac&quot;</span>,<span class="st">&quot;_per_ac&quot;</span>)</span>
<span id="cb129-66"><a href="point-cloud-processing-results.html#cb129-66" tabindex="-1"></a>        , stringr<span class="sc">::</span><span class="fu">str_ends</span>(x,<span class="st">&quot;_area_ha_ac&quot;</span>) <span class="sc">~</span> stringr<span class="sc">::</span><span class="fu">str_replace</span>(x,<span class="st">&quot;_area_ha_ac&quot;</span>,<span class="st">&quot;_area_ac&quot;</span>)</span>
<span id="cb129-67"><a href="point-cloud-processing-results.html#cb129-67" tabindex="-1"></a>        , stringr<span class="sc">::</span><span class="fu">str_ends</span>(x,<span class="st">&quot;_kg_per_m2_lbsft2&quot;</span>) <span class="sc">~</span> stringr<span class="sc">::</span><span class="fu">str_replace</span>(x,<span class="st">&quot;_kg_per_m2_lbsft2&quot;</span>,<span class="st">&quot;_lbs_per_ft2&quot;</span>)</span>
<span id="cb129-68"><a href="point-cloud-processing-results.html#cb129-68" tabindex="-1"></a>        , stringr<span class="sc">::</span><span class="fu">str_ends</span>(x,<span class="st">&quot;_kg_per_m3_lbsft3&quot;</span>) <span class="sc">~</span> stringr<span class="sc">::</span><span class="fu">str_replace</span>(x,<span class="st">&quot;_kg_per_m3_lbsft3&quot;</span>,<span class="st">&quot;_lbs_per_ft3&quot;</span>)</span>
<span id="cb129-69"><a href="point-cloud-processing-results.html#cb129-69" tabindex="-1"></a>        , stringr<span class="sc">::</span><span class="fu">str_ends</span>(x,<span class="st">&quot;_m2_ft2&quot;</span>) <span class="sc">~</span> stringr<span class="sc">::</span><span class="fu">str_replace</span>(x,<span class="st">&quot;_m2_ft2&quot;</span>,<span class="st">&quot;_ft2&quot;</span>)</span>
<span id="cb129-70"><a href="point-cloud-processing-results.html#cb129-70" tabindex="-1"></a>        , <span class="cn">TRUE</span> <span class="sc">~</span> x</span>
<span id="cb129-71"><a href="point-cloud-processing-results.html#cb129-71" tabindex="-1"></a>      )}</span>
<span id="cb129-72"><a href="point-cloud-processing-results.html#cb129-72" tabindex="-1"></a>    )</span>
<span id="cb129-73"><a href="point-cloud-processing-results.html#cb129-73" tabindex="-1"></a>}</span>
<span id="cb129-74"><a href="point-cloud-processing-results.html#cb129-74" tabindex="-1"></a></span>
<span id="cb129-75"><a href="point-cloud-processing-results.html#cb129-75" tabindex="-1"></a><span class="do">###################################################################################</span></span>
<span id="cb129-76"><a href="point-cloud-processing-results.html#cb129-76" tabindex="-1"></a><span class="do">### stand-level summaries</span></span>
<span id="cb129-77"><a href="point-cloud-processing-results.html#cb129-77" tabindex="-1"></a><span class="do">###################################################################################</span></span>
<span id="cb129-78"><a href="point-cloud-processing-results.html#cb129-78" tabindex="-1"></a>calc_silv_metrics <span class="ot">&lt;-</span> <span class="cf">function</span>(tree_list, <span class="at">stand_area_ha =</span> <span class="cn">NULL</span>, <span class="at">study_boundary =</span> <span class="cn">NULL</span>, <span class="at">calc_imperial_units =</span> F) {</span>
<span id="cb129-79"><a href="point-cloud-processing-results.html#cb129-79" tabindex="-1"></a>  <span class="co"># get study area</span></span>
<span id="cb129-80"><a href="point-cloud-processing-results.html#cb129-80" tabindex="-1"></a>  <span class="cf">if</span>(<span class="sc">!</span><span class="fu">is.null</span>(study_boundary)){</span>
<span id="cb129-81"><a href="point-cloud-processing-results.html#cb129-81" tabindex="-1"></a>    <span class="co"># bounds check</span></span>
<span id="cb129-82"><a href="point-cloud-processing-results.html#cb129-82" tabindex="-1"></a>    <span class="cf">if</span>(</span>
<span id="cb129-83"><a href="point-cloud-processing-results.html#cb129-83" tabindex="-1"></a>      <span class="sc">!</span><span class="fu">inherits</span>(study_boundary,<span class="st">&quot;sf&quot;</span>)</span>
<span id="cb129-84"><a href="point-cloud-processing-results.html#cb129-84" tabindex="-1"></a>      <span class="sc">&amp;&amp;</span> <span class="sc">!</span><span class="fu">inherits</span>(study_boundary,<span class="st">&quot;sfc&quot;</span>)</span>
<span id="cb129-85"><a href="point-cloud-processing-results.html#cb129-85" tabindex="-1"></a>    ){<span class="fu">stop</span>(<span class="st">&quot;study_boundary must be sf class object&quot;</span>)}</span>
<span id="cb129-86"><a href="point-cloud-processing-results.html#cb129-86" tabindex="-1"></a>    <span class="cf">if</span>(<span class="fu">is.na</span>(sf<span class="sc">::</span><span class="fu">st_crs</span>(study_boundary))){<span class="fu">stop</span>(<span class="st">&quot;study_boundary does not have a CRS&quot;</span>)}</span>
<span id="cb129-87"><a href="point-cloud-processing-results.html#cb129-87" tabindex="-1"></a>    <span class="cf">if</span>(<span class="fu">inherits</span>(study_boundary,<span class="st">&quot;sf&quot;</span>) <span class="sc">&amp;&amp;</span> <span class="fu">nrow</span>(study_boundary)<span class="sc">!=</span><span class="dv">1</span>){</span>
<span id="cb129-88"><a href="point-cloud-processing-results.html#cb129-88" tabindex="-1"></a>      <span class="fu">stop</span>(<span class="st">&quot;study_boundary must only have a single record geometry&quot;</span>)</span>
<span id="cb129-89"><a href="point-cloud-processing-results.html#cb129-89" tabindex="-1"></a>    }</span>
<span id="cb129-90"><a href="point-cloud-processing-results.html#cb129-90" tabindex="-1"></a>    <span class="cf">if</span>(<span class="fu">inherits</span>(study_boundary,<span class="st">&quot;sfc&quot;</span>) <span class="sc">&amp;&amp;</span> <span class="fu">length</span>(study_boundary)<span class="sc">!=</span><span class="dv">1</span>){</span>
<span id="cb129-91"><a href="point-cloud-processing-results.html#cb129-91" tabindex="-1"></a>      <span class="fu">stop</span>(<span class="st">&quot;study_boundary must only have a single record geometry&quot;</span>)</span>
<span id="cb129-92"><a href="point-cloud-processing-results.html#cb129-92" tabindex="-1"></a>    }</span>
<span id="cb129-93"><a href="point-cloud-processing-results.html#cb129-93" tabindex="-1"></a>    <span class="cf">if</span>(</span>
<span id="cb129-94"><a href="point-cloud-processing-results.html#cb129-94" tabindex="-1"></a>      <span class="sc">!</span><span class="fu">all</span>( sf<span class="sc">::</span><span class="fu">st_is</span>(study_boundary, <span class="fu">c</span>(<span class="st">&quot;POLYGON&quot;</span>,<span class="st">&quot;MULTIPOLYGON&quot;</span>)) )</span>
<span id="cb129-95"><a href="point-cloud-processing-results.html#cb129-95" tabindex="-1"></a>    ){</span>
<span id="cb129-96"><a href="point-cloud-processing-results.html#cb129-96" tabindex="-1"></a>      <span class="fu">stop</span>(<span class="st">&quot;study_boundary must contain POLYGON type geometry only&quot;</span>)</span>
<span id="cb129-97"><a href="point-cloud-processing-results.html#cb129-97" tabindex="-1"></a>    }</span>
<span id="cb129-98"><a href="point-cloud-processing-results.html#cb129-98" tabindex="-1"></a>    <span class="co"># area</span></span>
<span id="cb129-99"><a href="point-cloud-processing-results.html#cb129-99" tabindex="-1"></a>    xxstand_area_ha <span class="ot">&lt;-</span> study_boundary <span class="sc">%&gt;%</span> </span>
<span id="cb129-100"><a href="point-cloud-processing-results.html#cb129-100" tabindex="-1"></a>      sf<span class="sc">::</span><span class="fu">st_area</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb129-101"><a href="point-cloud-processing-results.html#cb129-101" tabindex="-1"></a>      <span class="fu">as.numeric</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb129-102"><a href="point-cloud-processing-results.html#cb129-102" tabindex="-1"></a>      <span class="st">`</span><span class="at">/</span><span class="st">`</span>(<span class="dv">10000</span>)</span>
<span id="cb129-103"><a href="point-cloud-processing-results.html#cb129-103" tabindex="-1"></a>  }<span class="cf">else</span> <span class="cf">if</span>(<span class="fu">is.numeric</span>(stand_area_ha)){</span>
<span id="cb129-104"><a href="point-cloud-processing-results.html#cb129-104" tabindex="-1"></a>    xxstand_area_ha <span class="ot">&lt;-</span> stand_area_ha[<span class="dv">1</span>]</span>
<span id="cb129-105"><a href="point-cloud-processing-results.html#cb129-105" tabindex="-1"></a>  }<span class="cf">else</span>{</span>
<span id="cb129-106"><a href="point-cloud-processing-results.html#cb129-106" tabindex="-1"></a>    <span class="fu">stop</span>(<span class="st">&quot;must provide `stand_area_ha` as numeric or `study_boundary` as sf object&quot;</span>)</span>
<span id="cb129-107"><a href="point-cloud-processing-results.html#cb129-107" tabindex="-1"></a>  }</span>
<span id="cb129-108"><a href="point-cloud-processing-results.html#cb129-108" tabindex="-1"></a>  </span>
<span id="cb129-109"><a href="point-cloud-processing-results.html#cb129-109" tabindex="-1"></a>  <span class="cf">if</span>(<span class="fu">is.null</span>(xxstand_area_ha) <span class="sc">||</span> <span class="fu">is.na</span>(xxstand_area_ha) <span class="sc">||</span> dplyr<span class="sc">::</span><span class="fu">coalesce</span>(xxstand_area_ha,<span class="dv">0</span>)<span class="sc">&lt;=</span><span class="dv">0</span>){</span>
<span id="cb129-110"><a href="point-cloud-processing-results.html#cb129-110" tabindex="-1"></a>    <span class="fu">stop</span>(<span class="st">&quot;could not determine valid stand_area_ha&quot;</span>)</span>
<span id="cb129-111"><a href="point-cloud-processing-results.html#cb129-111" tabindex="-1"></a>  }</span>
<span id="cb129-112"><a href="point-cloud-processing-results.html#cb129-112" tabindex="-1"></a>  </span>
<span id="cb129-113"><a href="point-cloud-processing-results.html#cb129-113" tabindex="-1"></a>  <span class="co"># summarize tree list</span></span>
<span id="cb129-114"><a href="point-cloud-processing-results.html#cb129-114" tabindex="-1"></a>  <span class="cf">if</span>(<span class="sc">!</span><span class="fu">inherits</span>(tree_list,<span class="st">&quot;data.frame&quot;</span>)){<span class="fu">stop</span>(<span class="st">&quot;tree_list must be data.frame class object&quot;</span>)}</span>
<span id="cb129-115"><a href="point-cloud-processing-results.html#cb129-115" tabindex="-1"></a>  </span>
<span id="cb129-116"><a href="point-cloud-processing-results.html#cb129-116" tabindex="-1"></a>  <span class="do">###### !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! NEED TO PUT IN CHECKS FOR COLUMNS USED</span></span>
<span id="cb129-117"><a href="point-cloud-processing-results.html#cb129-117" tabindex="-1"></a>  <span class="co"># see: cloud2trees::check_df_cols_all_missing()</span></span>
<span id="cb129-118"><a href="point-cloud-processing-results.html#cb129-118" tabindex="-1"></a>  <span class="cf">if</span>( <span class="sc">!</span><span class="fu">any</span>(stringr<span class="sc">::</span><span class="fu">str_detect</span>(<span class="fu">names</span>(tree_list), <span class="st">&quot;landfire_crown_biomass_kg&quot;</span>)) ){</span>
<span id="cb129-119"><a href="point-cloud-processing-results.html#cb129-119" tabindex="-1"></a>    tree_list <span class="ot">&lt;-</span> tree_list <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">landfire_crown_biomass_kg=</span><span class="fu">as.numeric</span>(<span class="cn">NA</span>))</span>
<span id="cb129-120"><a href="point-cloud-processing-results.html#cb129-120" tabindex="-1"></a>  }</span>
<span id="cb129-121"><a href="point-cloud-processing-results.html#cb129-121" tabindex="-1"></a>  <span class="cf">if</span>( <span class="sc">!</span><span class="fu">any</span>(stringr<span class="sc">::</span><span class="fu">str_detect</span>(<span class="fu">names</span>(tree_list), <span class="st">&quot;cruz_crown_biomass_kg&quot;</span>)) ){</span>
<span id="cb129-122"><a href="point-cloud-processing-results.html#cb129-122" tabindex="-1"></a>    tree_list <span class="ot">&lt;-</span> tree_list <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">cruz_crown_biomass_kg=</span><span class="fu">as.numeric</span>(<span class="cn">NA</span>))</span>
<span id="cb129-123"><a href="point-cloud-processing-results.html#cb129-123" tabindex="-1"></a>  }</span>
<span id="cb129-124"><a href="point-cloud-processing-results.html#cb129-124" tabindex="-1"></a>  <span class="cf">if</span>( <span class="sc">!</span><span class="fu">any</span>(stringr<span class="sc">::</span><span class="fu">str_detect</span>(<span class="fu">names</span>(tree_list), <span class="st">&quot;landfire_tree_kg_per_m3&quot;</span>)) ){</span>
<span id="cb129-125"><a href="point-cloud-processing-results.html#cb129-125" tabindex="-1"></a>    tree_list <span class="ot">&lt;-</span> tree_list <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">landfire_tree_kg_per_m3=</span><span class="fu">as.numeric</span>(<span class="cn">NA</span>))</span>
<span id="cb129-126"><a href="point-cloud-processing-results.html#cb129-126" tabindex="-1"></a>  }</span>
<span id="cb129-127"><a href="point-cloud-processing-results.html#cb129-127" tabindex="-1"></a>  <span class="cf">if</span>( <span class="sc">!</span><span class="fu">any</span>(stringr<span class="sc">::</span><span class="fu">str_detect</span>(<span class="fu">names</span>(tree_list), <span class="st">&quot;cruz_tree_kg_per_m3&quot;</span>)) ){</span>
<span id="cb129-128"><a href="point-cloud-processing-results.html#cb129-128" tabindex="-1"></a>    tree_list <span class="ot">&lt;-</span> tree_list <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">cruz_tree_kg_per_m3=</span><span class="fu">as.numeric</span>(<span class="cn">NA</span>))</span>
<span id="cb129-129"><a href="point-cloud-processing-results.html#cb129-129" tabindex="-1"></a>  }</span>
<span id="cb129-130"><a href="point-cloud-processing-results.html#cb129-130" tabindex="-1"></a>  </span>
<span id="cb129-131"><a href="point-cloud-processing-results.html#cb129-131" tabindex="-1"></a>  <span class="co"># agg</span></span>
<span id="cb129-132"><a href="point-cloud-processing-results.html#cb129-132" tabindex="-1"></a>  agg <span class="ot">&lt;-</span> tree_list <span class="sc">%&gt;%</span></span>
<span id="cb129-133"><a href="point-cloud-processing-results.html#cb129-133" tabindex="-1"></a>    sf<span class="sc">::</span><span class="fu">st_drop_geometry</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb129-134"><a href="point-cloud-processing-results.html#cb129-134" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb129-135"><a href="point-cloud-processing-results.html#cb129-135" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">summarise</span>(</span>
<span id="cb129-136"><a href="point-cloud-processing-results.html#cb129-136" tabindex="-1"></a>      <span class="at">n_trees =</span> dplyr<span class="sc">::</span><span class="fu">n</span>()</span>
<span id="cb129-137"><a href="point-cloud-processing-results.html#cb129-137" tabindex="-1"></a>      , <span class="at">mean_dbh_cm =</span> <span class="fu">mean</span>(dbh_cm, <span class="at">na.rm =</span> T)</span>
<span id="cb129-138"><a href="point-cloud-processing-results.html#cb129-138" tabindex="-1"></a>      , <span class="at">mean_tree_height_m =</span> <span class="fu">mean</span>(tree_height_m, <span class="at">na.rm =</span> T)</span>
<span id="cb129-139"><a href="point-cloud-processing-results.html#cb129-139" tabindex="-1"></a>      , <span class="at">mean_tree_cbh_m =</span> <span class="fu">mean</span>(tree_cbh_m, <span class="at">na.rm =</span> T)</span>
<span id="cb129-140"><a href="point-cloud-processing-results.html#cb129-140" tabindex="-1"></a>      , <span class="at">loreys_height_m =</span> <span class="fu">sum</span>(basal_area_m2<span class="sc">*</span>tree_height_m, <span class="at">na.rm =</span> T) <span class="sc">/</span> <span class="fu">sum</span>(basal_area_m2, <span class="at">na.rm =</span> T)</span>
<span id="cb129-141"><a href="point-cloud-processing-results.html#cb129-141" tabindex="-1"></a>      , <span class="at">basal_area_m2 =</span> <span class="fu">sum</span>(basal_area_m2, <span class="at">na.rm =</span> T)</span>
<span id="cb129-142"><a href="point-cloud-processing-results.html#cb129-142" tabindex="-1"></a>      , <span class="at">sum_dbh_cm_sq =</span> <span class="fu">sum</span>(dbh_cm<span class="sc">^</span><span class="dv">2</span>, <span class="at">na.rm =</span> T)</span>
<span id="cb129-143"><a href="point-cloud-processing-results.html#cb129-143" tabindex="-1"></a>      , <span class="at">landfire_crown_biomass_kg =</span> <span class="fu">sum</span>(landfire_crown_biomass_kg, <span class="at">na.rm =</span> F)</span>
<span id="cb129-144"><a href="point-cloud-processing-results.html#cb129-144" tabindex="-1"></a>      , <span class="at">cruz_crown_biomass_kg =</span> <span class="fu">sum</span>(cruz_crown_biomass_kg, <span class="at">na.rm =</span> F)</span>
<span id="cb129-145"><a href="point-cloud-processing-results.html#cb129-145" tabindex="-1"></a>      , <span class="at">mean_landfire_tree_kg_per_m3 =</span> <span class="fu">mean</span>(landfire_tree_kg_per_m3, <span class="at">na.rm =</span> T)</span>
<span id="cb129-146"><a href="point-cloud-processing-results.html#cb129-146" tabindex="-1"></a>      , <span class="at">mean_cruz_tree_kg_per_m3 =</span> <span class="fu">mean</span>(cruz_tree_kg_per_m3, <span class="at">na.rm =</span> T)</span>
<span id="cb129-147"><a href="point-cloud-processing-results.html#cb129-147" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb129-148"><a href="point-cloud-processing-results.html#cb129-148" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb129-149"><a href="point-cloud-processing-results.html#cb129-149" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb129-150"><a href="point-cloud-processing-results.html#cb129-150" tabindex="-1"></a>      <span class="at">stand_area_ha =</span> xxstand_area_ha</span>
<span id="cb129-151"><a href="point-cloud-processing-results.html#cb129-151" tabindex="-1"></a>      , <span class="at">trees_per_ha =</span> (n_trees<span class="sc">/</span>stand_area_ha)</span>
<span id="cb129-152"><a href="point-cloud-processing-results.html#cb129-152" tabindex="-1"></a>      , <span class="at">basal_area_m2_per_ha =</span> (basal_area_m2<span class="sc">/</span>stand_area_ha)</span>
<span id="cb129-153"><a href="point-cloud-processing-results.html#cb129-153" tabindex="-1"></a>      , <span class="at">qmd_cm =</span> <span class="fu">sqrt</span>(sum_dbh_cm_sq<span class="sc">/</span>n_trees)</span>
<span id="cb129-154"><a href="point-cloud-processing-results.html#cb129-154" tabindex="-1"></a>      , <span class="at">landfire_cfl_kg_per_m2 =</span> landfire_crown_biomass_kg<span class="sc">/</span>(stand_area_ha<span class="sc">*</span><span class="dv">10000</span>)</span>
<span id="cb129-155"><a href="point-cloud-processing-results.html#cb129-155" tabindex="-1"></a>      , <span class="at">cruz_cfl_kg_per_m2 =</span> cruz_crown_biomass_kg<span class="sc">/</span>(stand_area_ha<span class="sc">*</span><span class="dv">10000</span>)</span>
<span id="cb129-156"><a href="point-cloud-processing-results.html#cb129-156" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb129-157"><a href="point-cloud-processing-results.html#cb129-157" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(sum_dbh_cm_sq,landfire_crown_biomass_kg,cruz_crown_biomass_kg))</span>
<span id="cb129-158"><a href="point-cloud-processing-results.html#cb129-158" tabindex="-1"></a>  <span class="co"># imperial</span></span>
<span id="cb129-159"><a href="point-cloud-processing-results.html#cb129-159" tabindex="-1"></a>  <span class="cf">if</span>(calc_imperial_units){</span>
<span id="cb129-160"><a href="point-cloud-processing-results.html#cb129-160" tabindex="-1"></a>    agg <span class="ot">&lt;-</span> <span class="fu">calc_imperial_units_fn</span>(agg)</span>
<span id="cb129-161"><a href="point-cloud-processing-results.html#cb129-161" tabindex="-1"></a>  }</span>
<span id="cb129-162"><a href="point-cloud-processing-results.html#cb129-162" tabindex="-1"></a>  <span class="fu">return</span>(agg)</span>
<span id="cb129-163"><a href="point-cloud-processing-results.html#cb129-163" tabindex="-1"></a>}</span></code></pre></div>
<p>check out the data structure returned by the <code>calc_silv_metrics()</code> function</p>
<div class="sourceCode" id="cb130"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb130-1"><a href="point-cloud-processing-results.html#cb130-1" tabindex="-1"></a><span class="fu">calc_silv_metrics</span>(<span class="at">tree_list =</span> ans_temp<span class="sc">$</span>tree_list ,<span class="at">study_boundary =</span> ans_temp<span class="sc">$</span>aoi, <span class="at">calc_imperial_units =</span> T) <span class="sc">%&gt;%</span> </span>
<span id="cb130-2"><a href="point-cloud-processing-results.html#cb130-2" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">glimpse</span>()</span></code></pre></div>
<pre><code>## Rows: 1
## Columns: 27
## $ n_trees                        &lt;int&gt; 3571
## $ mean_dbh_cm                    &lt;dbl&gt; 16.34315
## $ mean_tree_height_m             &lt;dbl&gt; 9.180978
## $ mean_tree_cbh_m                &lt;dbl&gt; 4.284259
## $ loreys_height_m                &lt;dbl&gt; 14.18135
## $ basal_area_m2                  &lt;dbl&gt; 102.9316
## $ mean_landfire_tree_kg_per_m3   &lt;dbl&gt; 0.1129203
## $ mean_cruz_tree_kg_per_m3       &lt;dbl&gt; 0.2209229
## $ stand_area_ha                  &lt;dbl&gt; 11.72581
## $ trees_per_ha                   &lt;dbl&gt; 304.542
## $ basal_area_m2_per_ha           &lt;dbl&gt; 8.778214
## $ qmd_cm                         &lt;dbl&gt; 19.15731
## $ landfire_cfl_kg_per_m2         &lt;dbl&gt; 0.2577802
## $ cruz_cfl_kg_per_m2             &lt;dbl&gt; NA
## $ mean_dbh_in                    &lt;dbl&gt; 6.4392
## $ qmd_in                         &lt;dbl&gt; 7.547981
## $ mean_tree_height_ft            &lt;dbl&gt; 30.12279
## $ mean_tree_cbh_ft               &lt;dbl&gt; 14.05665
## $ loreys_height_ft               &lt;dbl&gt; 46.52901
## $ basal_area_ft2_per_ac          &lt;dbl&gt; 38.26423
## $ trees_per_ac                   &lt;dbl&gt; 123.3395
## $ stand_area_ac                  &lt;dbl&gt; 28.97447
## $ landfire_cfl_lbs_per_ft2       &lt;dbl&gt; 0.05279854
## $ cruz_cfl_lbs_per_ft2           &lt;dbl&gt; NA
## $ mean_landfire_tree_lbs_per_ft3 &lt;dbl&gt; 0.007046227
## $ mean_cruz_tree_lbs_per_ft3     &lt;dbl&gt; 0.01378559
## $ basal_area_ft2                 &lt;dbl&gt; 1107.956</code></pre>
</div>
<div id="study-area-summaries" class="section level3 hasAnchor" number="7.2.2">
<h3><span class="header-section-number">7.2.2</span> Study Area Summaries<a href="point-cloud-processing-results.html#study-area-summaries" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>let’s calculate the metrics for all study areas</p>
<div class="sourceCode" id="cb132"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb132-1"><a href="point-cloud-processing-results.html#cb132-1" tabindex="-1"></a><span class="co"># map the process over all data</span></span>
<span id="cb132-2"><a href="point-cloud-processing-results.html#cb132-2" tabindex="-1"></a>silv_metrics_by_data <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(study_sites_processing_sf) <span class="sc">%&gt;%</span> </span>
<span id="cb132-3"><a href="point-cloud-processing-results.html#cb132-3" tabindex="-1"></a>  purrr<span class="sc">::</span><span class="fu">map</span>(<span class="cf">function</span>(x){</span>
<span id="cb132-4"><a href="point-cloud-processing-results.html#cb132-4" tabindex="-1"></a>    <span class="co"># clip the data</span></span>
<span id="cb132-5"><a href="point-cloud-processing-results.html#cb132-5" tabindex="-1"></a>    ans_temp <span class="ot">&lt;-</span> cloud2trees<span class="sc">::</span><span class="fu">cloud2trees_to_lanl_trees</span>(</span>
<span id="cb132-6"><a href="point-cloud-processing-results.html#cb132-6" tabindex="-1"></a>      <span class="at">input_dir =</span> study_sites_processing_sf<span class="sc">$</span>fdir[x]</span>
<span id="cb132-7"><a href="point-cloud-processing-results.html#cb132-7" tabindex="-1"></a>      , <span class="at">study_boundary =</span> study_sites_processing_sf <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">slice</span>(x)</span>
<span id="cb132-8"><a href="point-cloud-processing-results.html#cb132-8" tabindex="-1"></a>      , <span class="at">bbox_aoi =</span> F, <span class="at">buffer =</span> <span class="dv">0</span> <span class="co"># this is the key to get only trees in our AOI</span></span>
<span id="cb132-9"><a href="point-cloud-processing-results.html#cb132-9" tabindex="-1"></a>    )</span>
<span id="cb132-10"><a href="point-cloud-processing-results.html#cb132-10" tabindex="-1"></a>    <span class="co"># silv metrics</span></span>
<span id="cb132-11"><a href="point-cloud-processing-results.html#cb132-11" tabindex="-1"></a>    <span class="fu">calc_silv_metrics</span>(</span>
<span id="cb132-12"><a href="point-cloud-processing-results.html#cb132-12" tabindex="-1"></a>      <span class="at">tree_list =</span> ans_temp<span class="sc">$</span>tree_list </span>
<span id="cb132-13"><a href="point-cloud-processing-results.html#cb132-13" tabindex="-1"></a>      , <span class="at">study_boundary =</span> ans_temp<span class="sc">$</span>aoi</span>
<span id="cb132-14"><a href="point-cloud-processing-results.html#cb132-14" tabindex="-1"></a>      , <span class="at">calc_imperial_units =</span> T</span>
<span id="cb132-15"><a href="point-cloud-processing-results.html#cb132-15" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb132-16"><a href="point-cloud-processing-results.html#cb132-16" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb132-17"><a href="point-cloud-processing-results.html#cb132-17" tabindex="-1"></a>      <span class="at">study_site =</span> study_sites_processing_sf<span class="sc">$</span>study_site[x]</span>
<span id="cb132-18"><a href="point-cloud-processing-results.html#cb132-18" tabindex="-1"></a>      , <span class="at">study_site_lab =</span> study_sites_processing_sf<span class="sc">$</span>study_site_lab[x]</span>
<span id="cb132-19"><a href="point-cloud-processing-results.html#cb132-19" tabindex="-1"></a>      , <span class="at">data_desc =</span> study_sites_processing_sf<span class="sc">$</span>data_desc[x]</span>
<span id="cb132-20"><a href="point-cloud-processing-results.html#cb132-20" tabindex="-1"></a>      , <span class="at">data_type =</span> study_sites_processing_sf<span class="sc">$</span>data_type[x]</span>
<span id="cb132-21"><a href="point-cloud-processing-results.html#cb132-21" tabindex="-1"></a>    )</span>
<span id="cb132-22"><a href="point-cloud-processing-results.html#cb132-22" tabindex="-1"></a>  }) <span class="sc">%&gt;%</span> </span>
<span id="cb132-23"><a href="point-cloud-processing-results.html#cb132-23" tabindex="-1"></a>dplyr<span class="sc">::</span><span class="fu">bind_rows</span>()</span>
<span id="cb132-24"><a href="point-cloud-processing-results.html#cb132-24" tabindex="-1"></a><span class="co"># huh?</span></span>
<span id="cb132-25"><a href="point-cloud-processing-results.html#cb132-25" tabindex="-1"></a>silv_metrics_by_data <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">glimpse</span>()</span></code></pre></div>
<div id="metric-units" class="section level4 hasAnchor" number="7.2.2.1">
<h4><span class="header-section-number">7.2.2.1</span> Metric units<a href="point-cloud-processing-results.html#metric-units" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb133"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb133-1"><a href="point-cloud-processing-results.html#cb133-1" tabindex="-1"></a>silv_metrics_by_data <span class="sc">%&gt;%</span> </span>
<span id="cb133-2"><a href="point-cloud-processing-results.html#cb133-2" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb133-3"><a href="point-cloud-processing-results.html#cb133-3" tabindex="-1"></a>    <span class="at">nlab =</span> <span class="fu">paste0</span>(study_site_lab,<span class="st">&quot;&lt;br&gt;&quot;</span>,scales<span class="sc">::</span><span class="fu">comma</span>(stand_area_ha,<span class="at">accuracy=</span><span class="dv">1</span>),<span class="st">&quot; ha&quot;</span>)</span>
<span id="cb133-4"><a href="point-cloud-processing-results.html#cb133-4" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb133-5"><a href="point-cloud-processing-results.html#cb133-5" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">relocate</span>(nlab) <span class="sc">%&gt;%</span> </span>
<span id="cb133-6"><a href="point-cloud-processing-results.html#cb133-6" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(</span>
<span id="cb133-7"><a href="point-cloud-processing-results.html#cb133-7" tabindex="-1"></a>    nlab</span>
<span id="cb133-8"><a href="point-cloud-processing-results.html#cb133-8" tabindex="-1"></a>    , data_desc</span>
<span id="cb133-9"><a href="point-cloud-processing-results.html#cb133-9" tabindex="-1"></a>    <span class="co"># different</span></span>
<span id="cb133-10"><a href="point-cloud-processing-results.html#cb133-10" tabindex="-1"></a>    , n_trees</span>
<span id="cb133-11"><a href="point-cloud-processing-results.html#cb133-11" tabindex="-1"></a>    , trees_per_ha</span>
<span id="cb133-12"><a href="point-cloud-processing-results.html#cb133-12" tabindex="-1"></a>    , mean_tree_height_m</span>
<span id="cb133-13"><a href="point-cloud-processing-results.html#cb133-13" tabindex="-1"></a>    , loreys_height_m</span>
<span id="cb133-14"><a href="point-cloud-processing-results.html#cb133-14" tabindex="-1"></a>    , mean_dbh_cm</span>
<span id="cb133-15"><a href="point-cloud-processing-results.html#cb133-15" tabindex="-1"></a>    , qmd_cm</span>
<span id="cb133-16"><a href="point-cloud-processing-results.html#cb133-16" tabindex="-1"></a>    , basal_area_m2_per_ha</span>
<span id="cb133-17"><a href="point-cloud-processing-results.html#cb133-17" tabindex="-1"></a>    , mean_landfire_tree_kg_per_m3</span>
<span id="cb133-18"><a href="point-cloud-processing-results.html#cb133-18" tabindex="-1"></a>    , mean_cruz_tree_kg_per_m3</span>
<span id="cb133-19"><a href="point-cloud-processing-results.html#cb133-19" tabindex="-1"></a>) <span class="sc">%&gt;%</span> </span>
<span id="cb133-20"><a href="point-cloud-processing-results.html#cb133-20" tabindex="-1"></a>dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb133-21"><a href="point-cloud-processing-results.html#cb133-21" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">across</span>(<span class="fu">c</span>(n_trees), <span class="sc">~</span>scales<span class="sc">::</span><span class="fu">comma</span>(.x,<span class="at">accuracy=</span><span class="dv">1</span>))</span>
<span id="cb133-22"><a href="point-cloud-processing-results.html#cb133-22" tabindex="-1"></a>  , dplyr<span class="sc">::</span><span class="fu">across</span>(</span>
<span id="cb133-23"><a href="point-cloud-processing-results.html#cb133-23" tabindex="-1"></a>    <span class="sc">-</span><span class="fu">c</span>(nlab,data_desc,n_trees,tidyselect<span class="sc">::</span><span class="fu">ends_with</span>(<span class="st">&quot;3&quot;</span>))</span>
<span id="cb133-24"><a href="point-cloud-processing-results.html#cb133-24" tabindex="-1"></a>    , <span class="sc">~</span>scales<span class="sc">::</span><span class="fu">comma</span>(.x,<span class="at">accuracy=</span><span class="fl">0.1</span>)</span>
<span id="cb133-25"><a href="point-cloud-processing-results.html#cb133-25" tabindex="-1"></a>  )</span>
<span id="cb133-26"><a href="point-cloud-processing-results.html#cb133-26" tabindex="-1"></a>  , dplyr<span class="sc">::</span><span class="fu">across</span>(</span>
<span id="cb133-27"><a href="point-cloud-processing-results.html#cb133-27" tabindex="-1"></a>    tidyselect<span class="sc">::</span><span class="fu">ends_with</span>(<span class="st">&quot;3&quot;</span>)</span>
<span id="cb133-28"><a href="point-cloud-processing-results.html#cb133-28" tabindex="-1"></a>    , <span class="sc">~</span>scales<span class="sc">::</span><span class="fu">comma</span>(.x,<span class="at">accuracy=</span><span class="fl">0.001</span>)</span>
<span id="cb133-29"><a href="point-cloud-processing-results.html#cb133-29" tabindex="-1"></a>  )</span>
<span id="cb133-30"><a href="point-cloud-processing-results.html#cb133-30" tabindex="-1"></a>) <span class="sc">%&gt;%</span> </span>
<span id="cb133-31"><a href="point-cloud-processing-results.html#cb133-31" tabindex="-1"></a>kableExtra<span class="sc">::</span><span class="fu">kbl</span>(</span>
<span id="cb133-32"><a href="point-cloud-processing-results.html#cb133-32" tabindex="-1"></a>  <span class="at">caption =</span> <span class="st">&quot;Stand summary metrics in metric units&quot;</span></span>
<span id="cb133-33"><a href="point-cloud-processing-results.html#cb133-33" tabindex="-1"></a>  , <span class="at">col.names =</span> <span class="fu">c</span>(</span>
<span id="cb133-34"><a href="point-cloud-processing-results.html#cb133-34" tabindex="-1"></a>    <span class="st">&quot;site&quot;</span>,<span class="st">&quot;collection&quot;</span></span>
<span id="cb133-35"><a href="point-cloud-processing-results.html#cb133-35" tabindex="-1"></a>    , <span class="st">&quot;trees&quot;</span></span>
<span id="cb133-36"><a href="point-cloud-processing-results.html#cb133-36" tabindex="-1"></a>    , <span class="st">&quot;trees ha&lt;sup&gt;-1&lt;/sup&gt;&quot;</span></span>
<span id="cb133-37"><a href="point-cloud-processing-results.html#cb133-37" tabindex="-1"></a>    , <span class="st">&quot;mean&lt;br&gt;tree ht. (m)&quot;</span></span>
<span id="cb133-38"><a href="point-cloud-processing-results.html#cb133-38" tabindex="-1"></a>    , <span class="st">&quot;Lorey&#39;s&lt;br&gt;tree ht. (m)&quot;</span></span>
<span id="cb133-39"><a href="point-cloud-processing-results.html#cb133-39" tabindex="-1"></a>    , <span class="st">&quot;mean&lt;br&gt;DBH (cm)&quot;</span></span>
<span id="cb133-40"><a href="point-cloud-processing-results.html#cb133-40" tabindex="-1"></a>    , <span class="st">&quot;QMD (cm)&quot;</span></span>
<span id="cb133-41"><a href="point-cloud-processing-results.html#cb133-41" tabindex="-1"></a>    , <span class="st">&quot;BA (m&lt;sup&gt;2&lt;/sup&gt; ha&lt;sup&gt;-1&lt;/sup&gt;)&quot;</span></span>
<span id="cb133-42"><a href="point-cloud-processing-results.html#cb133-42" tabindex="-1"></a>    , <span class="st">&quot;mean&lt;br&gt;CBD (kg m&lt;sup&gt;-3&lt;/sup&gt;)&lt;br&gt;LANDFIRE&quot;</span></span>
<span id="cb133-43"><a href="point-cloud-processing-results.html#cb133-43" tabindex="-1"></a>    , <span class="st">&quot;mean&lt;br&gt;CBD (kg m&lt;sup&gt;-3&lt;/sup&gt;)&lt;br&gt;Cruz&quot;</span></span>
<span id="cb133-44"><a href="point-cloud-processing-results.html#cb133-44" tabindex="-1"></a>  )</span>
<span id="cb133-45"><a href="point-cloud-processing-results.html#cb133-45" tabindex="-1"></a>  , <span class="at">escape =</span> F</span>
<span id="cb133-46"><a href="point-cloud-processing-results.html#cb133-46" tabindex="-1"></a>) <span class="sc">%&gt;%</span> </span>
<span id="cb133-47"><a href="point-cloud-processing-results.html#cb133-47" tabindex="-1"></a>kableExtra<span class="sc">::</span><span class="fu">kable_styling</span>(<span class="at">font_size =</span> <span class="fl">10.5</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb133-48"><a href="point-cloud-processing-results.html#cb133-48" tabindex="-1"></a>kableExtra<span class="sc">::</span><span class="fu">collapse_rows</span>(<span class="at">columns =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="at">valign =</span> <span class="st">&quot;top&quot;</span>)  </span></code></pre></div>
<table class="table" style="font-size: 10.5px; margin-left: auto; margin-right: auto;">
<caption style="font-size: initial !important;">
<span id="tab:unnamed-chunk-150">Table 7.2: </span>Stand summary metrics in metric units
</caption>
<thead>
<tr>
<th style="text-align:left;">
site
</th>
<th style="text-align:left;">
collection
</th>
<th style="text-align:left;">
trees
</th>
<th style="text-align:left;">
trees ha<sup>-1</sup>
</th>
<th style="text-align:left;">
mean<br>tree ht. (m)
</th>
<th style="text-align:left;">
Lorey’s<br>tree ht. (m)
</th>
<th style="text-align:left;">
mean<br>DBH (cm)
</th>
<th style="text-align:left;">
QMD (cm)
</th>
<th style="text-align:left;">
BA (m<sup>2</sup> ha<sup>-1</sup>)
</th>
<th style="text-align:left;">
mean<br>CBD (kg m<sup>-3</sup>)<br>LANDFIRE
</th>
<th style="text-align:left;">
mean<br>CBD (kg m<sup>-3</sup>)<br>Cruz
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;vertical-align: top !important;" rowspan="2">
Fort Stewart (GA)<br>306 ha
</td>
<td style="text-align:left;">
ALS 2018
</td>
<td style="text-align:left;">
152,917
</td>
<td style="text-align:left;">
499.6
</td>
<td style="text-align:left;">
17.5
</td>
<td style="text-align:left;">
21.4
</td>
<td style="text-align:left;">
22.2
</td>
<td style="text-align:left;">
23.9
</td>
<td style="text-align:left;">
22.4
</td>
<td style="text-align:left;">
0.235
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
ALS 2025
</td>
<td style="text-align:left;">
74,205
</td>
<td style="text-align:left;">
242.6
</td>
<td style="text-align:left;">
19.0
</td>
<td style="text-align:left;">
22.8
</td>
<td style="text-align:left;">
24.9
</td>
<td style="text-align:left;">
26.7
</td>
<td style="text-align:left;">
13.6
</td>
<td style="text-align:left;">
0.358
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;vertical-align: top !important;" rowspan="2">
Cedar Bridge (NJ)<br>147 ha
</td>
<td style="text-align:left;">
ALS 2012
</td>
<td style="text-align:left;">
110,993
</td>
<td style="text-align:left;">
754.9
</td>
<td style="text-align:left;">
8.9
</td>
<td style="text-align:left;">
11.9
</td>
<td style="text-align:left;">
15.4
</td>
<td style="text-align:left;">
17.0
</td>
<td style="text-align:left;">
17.2
</td>
<td style="text-align:left;">
0.239
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
UAS LIDAR 2024
</td>
<td style="text-align:left;">
69,865
</td>
<td style="text-align:left;">
475.2
</td>
<td style="text-align:left;">
12.3
</td>
<td style="text-align:left;">
14.4
</td>
<td style="text-align:left;">
22.5
</td>
<td style="text-align:left;">
23.9
</td>
<td style="text-align:left;">
21.3
</td>
<td style="text-align:left;">
0.199
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;vertical-align: top !important;" rowspan="2">
Salt Cabin (CO)<br>12 ha
</td>
<td style="text-align:left;">
ALS 2021
</td>
<td style="text-align:left;">
7,224
</td>
<td style="text-align:left;">
615.6
</td>
<td style="text-align:left;">
7.7
</td>
<td style="text-align:left;">
12.6
</td>
<td style="text-align:left;">
12.5
</td>
<td style="text-align:left;">
14.7
</td>
<td style="text-align:left;">
10.4
</td>
<td style="text-align:left;">
0.094
</td>
<td style="text-align:left;">
0.292
</td>
</tr>
<tr>
<td style="text-align:left;">
UAS SFM 2024
</td>
<td style="text-align:left;">
3,571
</td>
<td style="text-align:left;">
304.5
</td>
<td style="text-align:left;">
9.2
</td>
<td style="text-align:left;">
14.2
</td>
<td style="text-align:left;">
16.3
</td>
<td style="text-align:left;">
19.2
</td>
<td style="text-align:left;">
8.8
</td>
<td style="text-align:left;">
0.113
</td>
<td style="text-align:left;">
0.221
</td>
</tr>
<tr>
<td style="text-align:left;vertical-align: top !important;" rowspan="2">
Sycan Marsh (OR)<br>16 ha
</td>
<td style="text-align:left;">
ALS 2021
</td>
<td style="text-align:left;">
4,205
</td>
<td style="text-align:left;">
257.5
</td>
<td style="text-align:left;">
12.7
</td>
<td style="text-align:left;">
18.5
</td>
<td style="text-align:left;">
24.2
</td>
<td style="text-align:left;">
27.9
</td>
<td style="text-align:left;">
15.7
</td>
<td style="text-align:left;">
0.217
</td>
<td style="text-align:left;">
0.420
</td>
</tr>
<tr>
<td style="text-align:left;">
UAS LIDAR 2023
</td>
<td style="text-align:left;">
4,435
</td>
<td style="text-align:left;">
271.6
</td>
<td style="text-align:left;">
11.5
</td>
<td style="text-align:left;">
19.1
</td>
<td style="text-align:left;">
22.4
</td>
<td style="text-align:left;">
27.3
</td>
<td style="text-align:left;">
15.9
</td>
<td style="text-align:left;">
0.147
</td>
<td style="text-align:left;">
0.299
</td>
</tr>
</tbody>
</table>
</div>
<div id="imperial-units" class="section level4 hasAnchor" number="7.2.2.2">
<h4><span class="header-section-number">7.2.2.2</span> Imperial units<a href="point-cloud-processing-results.html#imperial-units" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb134"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb134-1"><a href="point-cloud-processing-results.html#cb134-1" tabindex="-1"></a>silv_metrics_by_data <span class="sc">%&gt;%</span> </span>
<span id="cb134-2"><a href="point-cloud-processing-results.html#cb134-2" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb134-3"><a href="point-cloud-processing-results.html#cb134-3" tabindex="-1"></a>    <span class="at">nlab =</span> <span class="fu">paste0</span>(study_site_lab,<span class="st">&quot;&lt;br&gt;&quot;</span>,scales<span class="sc">::</span><span class="fu">comma</span>(stand_area_ac,<span class="at">accuracy=</span><span class="dv">1</span>),<span class="st">&quot; ac&quot;</span>)</span>
<span id="cb134-4"><a href="point-cloud-processing-results.html#cb134-4" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb134-5"><a href="point-cloud-processing-results.html#cb134-5" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">relocate</span>(nlab) <span class="sc">%&gt;%</span> </span>
<span id="cb134-6"><a href="point-cloud-processing-results.html#cb134-6" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(</span>
<span id="cb134-7"><a href="point-cloud-processing-results.html#cb134-7" tabindex="-1"></a>    nlab</span>
<span id="cb134-8"><a href="point-cloud-processing-results.html#cb134-8" tabindex="-1"></a>    , data_desc</span>
<span id="cb134-9"><a href="point-cloud-processing-results.html#cb134-9" tabindex="-1"></a>    <span class="co"># different</span></span>
<span id="cb134-10"><a href="point-cloud-processing-results.html#cb134-10" tabindex="-1"></a>    , n_trees</span>
<span id="cb134-11"><a href="point-cloud-processing-results.html#cb134-11" tabindex="-1"></a>    , trees_per_ac</span>
<span id="cb134-12"><a href="point-cloud-processing-results.html#cb134-12" tabindex="-1"></a>    , mean_tree_height_ft</span>
<span id="cb134-13"><a href="point-cloud-processing-results.html#cb134-13" tabindex="-1"></a>    , loreys_height_ft</span>
<span id="cb134-14"><a href="point-cloud-processing-results.html#cb134-14" tabindex="-1"></a>    , mean_dbh_in</span>
<span id="cb134-15"><a href="point-cloud-processing-results.html#cb134-15" tabindex="-1"></a>    , qmd_in</span>
<span id="cb134-16"><a href="point-cloud-processing-results.html#cb134-16" tabindex="-1"></a>    , basal_area_ft2_per_ac</span>
<span id="cb134-17"><a href="point-cloud-processing-results.html#cb134-17" tabindex="-1"></a>    , mean_landfire_tree_lbs_per_ft3</span>
<span id="cb134-18"><a href="point-cloud-processing-results.html#cb134-18" tabindex="-1"></a>    , mean_cruz_tree_lbs_per_ft3</span>
<span id="cb134-19"><a href="point-cloud-processing-results.html#cb134-19" tabindex="-1"></a>) <span class="sc">%&gt;%</span> </span>
<span id="cb134-20"><a href="point-cloud-processing-results.html#cb134-20" tabindex="-1"></a>dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb134-21"><a href="point-cloud-processing-results.html#cb134-21" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">across</span>(<span class="fu">c</span>(n_trees), <span class="sc">~</span>scales<span class="sc">::</span><span class="fu">comma</span>(.x,<span class="at">accuracy=</span><span class="dv">1</span>))</span>
<span id="cb134-22"><a href="point-cloud-processing-results.html#cb134-22" tabindex="-1"></a>  , dplyr<span class="sc">::</span><span class="fu">across</span>(</span>
<span id="cb134-23"><a href="point-cloud-processing-results.html#cb134-23" tabindex="-1"></a>    <span class="sc">-</span><span class="fu">c</span>(nlab,data_desc,n_trees,tidyselect<span class="sc">::</span><span class="fu">ends_with</span>(<span class="st">&quot;3&quot;</span>))</span>
<span id="cb134-24"><a href="point-cloud-processing-results.html#cb134-24" tabindex="-1"></a>    , <span class="sc">~</span>scales<span class="sc">::</span><span class="fu">comma</span>(.x,<span class="at">accuracy=</span><span class="fl">0.1</span>)</span>
<span id="cb134-25"><a href="point-cloud-processing-results.html#cb134-25" tabindex="-1"></a>  )</span>
<span id="cb134-26"><a href="point-cloud-processing-results.html#cb134-26" tabindex="-1"></a>  , dplyr<span class="sc">::</span><span class="fu">across</span>(</span>
<span id="cb134-27"><a href="point-cloud-processing-results.html#cb134-27" tabindex="-1"></a>    tidyselect<span class="sc">::</span><span class="fu">ends_with</span>(<span class="st">&quot;3&quot;</span>)</span>
<span id="cb134-28"><a href="point-cloud-processing-results.html#cb134-28" tabindex="-1"></a>    , <span class="sc">~</span>scales<span class="sc">::</span><span class="fu">comma</span>(.x,<span class="at">accuracy=</span><span class="fl">0.001</span>)</span>
<span id="cb134-29"><a href="point-cloud-processing-results.html#cb134-29" tabindex="-1"></a>  )</span>
<span id="cb134-30"><a href="point-cloud-processing-results.html#cb134-30" tabindex="-1"></a>) <span class="sc">%&gt;%</span> </span>
<span id="cb134-31"><a href="point-cloud-processing-results.html#cb134-31" tabindex="-1"></a>kableExtra<span class="sc">::</span><span class="fu">kbl</span>(</span>
<span id="cb134-32"><a href="point-cloud-processing-results.html#cb134-32" tabindex="-1"></a>  <span class="at">caption =</span> <span class="st">&quot;Stand summary metrics in imperial units&quot;</span></span>
<span id="cb134-33"><a href="point-cloud-processing-results.html#cb134-33" tabindex="-1"></a>  , <span class="at">col.names =</span> <span class="fu">c</span>(</span>
<span id="cb134-34"><a href="point-cloud-processing-results.html#cb134-34" tabindex="-1"></a>    <span class="st">&quot;site&quot;</span>,<span class="st">&quot;collection&quot;</span></span>
<span id="cb134-35"><a href="point-cloud-processing-results.html#cb134-35" tabindex="-1"></a>    , <span class="st">&quot;trees&quot;</span></span>
<span id="cb134-36"><a href="point-cloud-processing-results.html#cb134-36" tabindex="-1"></a>    , <span class="st">&quot;trees ac&lt;sup&gt;-1&lt;/sup&gt;&quot;</span></span>
<span id="cb134-37"><a href="point-cloud-processing-results.html#cb134-37" tabindex="-1"></a>    , <span class="st">&quot;mean&lt;br&gt;tree ht. (ft)&quot;</span></span>
<span id="cb134-38"><a href="point-cloud-processing-results.html#cb134-38" tabindex="-1"></a>    , <span class="st">&quot;Lorey&#39;s&lt;br&gt;tree ht. (ft)&quot;</span></span>
<span id="cb134-39"><a href="point-cloud-processing-results.html#cb134-39" tabindex="-1"></a>    , <span class="st">&quot;mean&lt;br&gt;DBH (in)&quot;</span></span>
<span id="cb134-40"><a href="point-cloud-processing-results.html#cb134-40" tabindex="-1"></a>    , <span class="st">&quot;QMD (in)&quot;</span></span>
<span id="cb134-41"><a href="point-cloud-processing-results.html#cb134-41" tabindex="-1"></a>    , <span class="st">&quot;BA (ft&lt;sup&gt;2&lt;/sup&gt; ac&lt;sup&gt;-1&lt;/sup&gt;)&quot;</span></span>
<span id="cb134-42"><a href="point-cloud-processing-results.html#cb134-42" tabindex="-1"></a>    , <span class="st">&quot;mean&lt;br&gt;CBD (lb ft&lt;sup&gt;-3&lt;/sup&gt;)&lt;br&gt;LANDFIRE&quot;</span></span>
<span id="cb134-43"><a href="point-cloud-processing-results.html#cb134-43" tabindex="-1"></a>    , <span class="st">&quot;mean&lt;br&gt;CBD (lb ft&lt;sup&gt;-3&lt;/sup&gt;)&lt;br&gt;Cruz&quot;</span></span>
<span id="cb134-44"><a href="point-cloud-processing-results.html#cb134-44" tabindex="-1"></a>  )</span>
<span id="cb134-45"><a href="point-cloud-processing-results.html#cb134-45" tabindex="-1"></a>  , <span class="at">escape =</span> F</span>
<span id="cb134-46"><a href="point-cloud-processing-results.html#cb134-46" tabindex="-1"></a>) <span class="sc">%&gt;%</span> </span>
<span id="cb134-47"><a href="point-cloud-processing-results.html#cb134-47" tabindex="-1"></a>kableExtra<span class="sc">::</span><span class="fu">kable_styling</span>(<span class="at">font_size =</span> <span class="fl">10.5</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb134-48"><a href="point-cloud-processing-results.html#cb134-48" tabindex="-1"></a>kableExtra<span class="sc">::</span><span class="fu">collapse_rows</span>(<span class="at">columns =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="at">valign =</span> <span class="st">&quot;top&quot;</span>)  </span></code></pre></div>
<table class="table" style="font-size: 10.5px; margin-left: auto; margin-right: auto;">
<caption style="font-size: initial !important;">
<span id="tab:unnamed-chunk-151">Table 7.3: </span>Stand summary metrics in imperial units
</caption>
<thead>
<tr>
<th style="text-align:left;">
site
</th>
<th style="text-align:left;">
collection
</th>
<th style="text-align:left;">
trees
</th>
<th style="text-align:left;">
trees ac<sup>-1</sup>
</th>
<th style="text-align:left;">
mean<br>tree ht. (ft)
</th>
<th style="text-align:left;">
Lorey’s<br>tree ht. (ft)
</th>
<th style="text-align:left;">
mean<br>DBH (in)
</th>
<th style="text-align:left;">
QMD (in)
</th>
<th style="text-align:left;">
BA (ft<sup>2</sup> ac<sup>-1</sup>)
</th>
<th style="text-align:left;">
mean<br>CBD (lb ft<sup>-3</sup>)<br>LANDFIRE
</th>
<th style="text-align:left;">
mean<br>CBD (lb ft<sup>-3</sup>)<br>Cruz
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;vertical-align: top !important;" rowspan="2">
Fort Stewart (GA)<br>756 ac
</td>
<td style="text-align:left;">
ALS 2018
</td>
<td style="text-align:left;">
152,917
</td>
<td style="text-align:left;">
202.3
</td>
<td style="text-align:left;">
57.4
</td>
<td style="text-align:left;">
70.2
</td>
<td style="text-align:left;">
8.7
</td>
<td style="text-align:left;">
9.4
</td>
<td style="text-align:left;">
97.5
</td>
<td style="text-align:left;">
0.015
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
ALS 2025
</td>
<td style="text-align:left;">
74,205
</td>
<td style="text-align:left;">
98.2
</td>
<td style="text-align:left;">
62.4
</td>
<td style="text-align:left;">
74.9
</td>
<td style="text-align:left;">
9.8
</td>
<td style="text-align:left;">
10.5
</td>
<td style="text-align:left;">
59.3
</td>
<td style="text-align:left;">
0.022
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;vertical-align: top !important;" rowspan="2">
Cedar Bridge (NJ)<br>363 ac
</td>
<td style="text-align:left;">
ALS 2012
</td>
<td style="text-align:left;">
110,993
</td>
<td style="text-align:left;">
305.7
</td>
<td style="text-align:left;">
29.2
</td>
<td style="text-align:left;">
39.1
</td>
<td style="text-align:left;">
6.1
</td>
<td style="text-align:left;">
6.7
</td>
<td style="text-align:left;">
75.0
</td>
<td style="text-align:left;">
0.015
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
UAS LIDAR 2024
</td>
<td style="text-align:left;">
69,865
</td>
<td style="text-align:left;">
192.4
</td>
<td style="text-align:left;">
40.3
</td>
<td style="text-align:left;">
47.4
</td>
<td style="text-align:left;">
8.9
</td>
<td style="text-align:left;">
9.4
</td>
<td style="text-align:left;">
92.8
</td>
<td style="text-align:left;">
0.012
</td>
<td style="text-align:left;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;vertical-align: top !important;" rowspan="2">
Salt Cabin (CO)<br>29 ac
</td>
<td style="text-align:left;">
ALS 2021
</td>
<td style="text-align:left;">
7,224
</td>
<td style="text-align:left;">
249.3
</td>
<td style="text-align:left;">
25.3
</td>
<td style="text-align:left;">
41.3
</td>
<td style="text-align:left;">
4.9
</td>
<td style="text-align:left;">
5.8
</td>
<td style="text-align:left;">
45.4
</td>
<td style="text-align:left;">
0.006
</td>
<td style="text-align:left;">
0.018
</td>
</tr>
<tr>
<td style="text-align:left;">
UAS SFM 2024
</td>
<td style="text-align:left;">
3,571
</td>
<td style="text-align:left;">
123.3
</td>
<td style="text-align:left;">
30.1
</td>
<td style="text-align:left;">
46.5
</td>
<td style="text-align:left;">
6.4
</td>
<td style="text-align:left;">
7.5
</td>
<td style="text-align:left;">
38.3
</td>
<td style="text-align:left;">
0.007
</td>
<td style="text-align:left;">
0.014
</td>
</tr>
<tr>
<td style="text-align:left;vertical-align: top !important;" rowspan="2">
Sycan Marsh (OR)<br>40 ac
</td>
<td style="text-align:left;">
ALS 2021
</td>
<td style="text-align:left;">
4,205
</td>
<td style="text-align:left;">
104.3
</td>
<td style="text-align:left;">
41.8
</td>
<td style="text-align:left;">
60.5
</td>
<td style="text-align:left;">
9.6
</td>
<td style="text-align:left;">
11.0
</td>
<td style="text-align:left;">
68.5
</td>
<td style="text-align:left;">
0.014
</td>
<td style="text-align:left;">
0.026
</td>
</tr>
<tr>
<td style="text-align:left;">
UAS LIDAR 2023
</td>
<td style="text-align:left;">
4,435
</td>
<td style="text-align:left;">
110.0
</td>
<td style="text-align:left;">
37.8
</td>
<td style="text-align:left;">
62.7
</td>
<td style="text-align:left;">
8.8
</td>
<td style="text-align:left;">
10.8
</td>
<td style="text-align:left;">
69.5
</td>
<td style="text-align:left;">
0.009
</td>
<td style="text-align:left;">
0.019
</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="cedar-bridge-nj.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="lanl_trees.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
  "sharing": {
    "github": false,
    "facebook": true,
    "twitter": true,
    "linkedin": false,
    "weibo": false,
    "instapaper": false,
    "vk": false,
    "whatsapp": false,
    "all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
  },
  "fontsettings": {
    "theme": "white",
    "family": "sans",
    "size": 2
  },
  "edit": {
    "link": null,
    "text": null
  },
  "history": {
    "link": null,
    "text": null
  },
  "view": {
    "link": null,
    "text": null
  },
  "download": null,
  "search": {
    "engine": "fuse",
    "options": null
  },
  "toc": {
    "collapse": "subsection"
  }
});
});
</script>

</body>

</html>
